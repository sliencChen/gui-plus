/*
 * conv.c
 *
 *  Created on: 2016-7-22
 *      Author: Brant
 */

#include <gdi/gui_interface.h>
#include <gdi/font/conv.h>
#include <gdi/rect.h>
#if ENABLE_CHINESE_LANGUAGE
#include "gb_uni.h"
#endif


#ifndef ARRAY_NUM
#define ARRAY_NUM(arr) (sizeof(arr)/sizeof(arr[0]))
#endif


/*********************************************************************************************************************************
 *                                                      windows code pages                                                       *
 *********************************************************************************************************************************/
/*
 * ucs2 <-> windows-874
 *
 * Windows-874 is a superset of ISO-8859-11, support the languages below:
 * Thai
 *
 * For more information, please visit: https://en.wikipedia.org/wiki/ISO/IEC_8859-11
 */
#if ENABLE_THAI_LANGUAGE
static U16 ucs2_to_windows_874_map[128] =
{
	/*0x80*/0x20AC, /*0x81*/0x0000, /*0x82*/0x0000, /*0x83*/0x0000, /*0x84*/0x0000, /*0x85*/0x2026, /*0x86*/0x0000, /*0x87*/0x0000,
	/*0x88*/0x0000, /*0x89*/0x0000, /*0x8a*/0x0000, /*0x8b*/0x0000, /*0x8c*/0x0000, /*0x8d*/0x0000, /*0x8e*/0x0000, /*0x8f*/0x0000,

	/*0x90*/0x0000, /*0x91*/0x2018, /*0x92*/0x2019, /*0x93*/0x201C, /*0x94*/0x201D, /*0x95*/0x2022, /*0x96*/0x2013, /*0x97*/0x2014,
	/*0x98*/0x0000, /*0x99*/0x0000, /*0x9a*/0x0000, /*0x9b*/0x0000, /*0x9c*/0x0000, /*0x9d*/0x0000, /*0x9e*/0x0000, /*0x9f*/0x0000,

	/*0xa0*/0x00A0, /*0xa1*/0x0E01, /*0xa2*/0x0E02, /*0xa3*/0x0E03, /*0xa4*/0x0E04, /*0xa5*/0x0E05, /*0xa6*/0x0E06, /*0xa7*/0x0E07,
	/*0xa8*/0x0E08, /*0xa9*/0x0E09, /*0xaa*/0x0E0A, /*0xab*/0x0E0B, /*0xac*/0x0E0C, /*0xad*/0x0E0D, /*0xae*/0x0E0E, /*0xaf*/0x0E0F,

	/*0xb0*/0x0E10, /*0xb1*/0x0E11, /*0xb2*/0x0E12, /*0xb3*/0x0E13, /*0xb4*/0x0E14, /*0xb5*/0x0E15, /*0xb6*/0x0E16, /*0xb7*/0x0E17,
	/*0xb8*/0x0E18, /*0xb9*/0x0E19, /*0xba*/0x0E1A, /*0xbb*/0x0E1B, /*0xbc*/0x0E1C, /*0xbd*/0x0E1D, /*0xbe*/0x0E1E, /*0xbf*/0x0E1F,

	/*0xc0*/0x0E20, /*0xc1*/0x0E21, /*0xc2*/0x0E22, /*0xc3*/0x0E23, /*0xc4*/0x0E24, /*0xc5*/0x0E25, /*0xc6*/0x0E26, /*0xc7*/0x0E27,
	/*0xc8*/0x0E28, /*0xc9*/0x0E29, /*0xca*/0x0E2A, /*0xcb*/0x0E2B, /*0xcc*/0x0E2C, /*0xcd*/0x0E2D, /*0xce*/0x0E2E, /*0xcf*/0x0E2F,

	/*0xd0*/0x0E30, /*0xd1*/0x0E31, /*0xd2*/0x0E32, /*0xd3*/0x0E33, /*0xd4*/0x0E34, /*0xd5*/0x0E35, /*0xd6*/0x0E36, /*0xd7*/0x0E37,
	/*0xd8*/0x0E38, /*0xd9*/0x0E39, /*0xda*/0x0E3A, /*0xdb*/0x0000, /*0xdc*/0x0000, /*0xdd*/0x0000, /*0xde*/0x0000, /*0xdf*/0x0E3F,

	/*0xe0*/0x0E40, /*0xe1*/0x0E41, /*0xe2*/0x0E42, /*0xe3*/0x0E43, /*0xe4*/0x0E44, /*0xe5*/0x0E45, /*0xe6*/0x0E46, /*0xe7*/0x0E47,
	/*0xe8*/0x0E48, /*0xe9*/0x0E49, /*0xea*/0x0E4A, /*0xeb*/0x0E4B, /*0xec*/0x0E4C, /*0xed*/0x0E4D, /*0xee*/0x0E4E, /*0xef*/0x0E4F,

	/*0xf0*/0x0E50, /*0xf1*/0x0E51, /*0xf2*/0x0E52, /*0xf3*/0x0E53, /*0xf4*/0x0E54, /*0xf5*/0x0E55, /*0xf6*/0x0E56, /*0xf7*/0x0E57,
	/*0xf8*/0x0E58, /*0xf9*/0x0E59, /*0xfa*/0x0E5A, /*0xfb*/0x0E5B, /*0xfc*/0x0000, /*0xfd*/0x0000, /*0xfe*/0x0000, /*0xff*/0x0000
};
#endif
/*
 * ucs2 <-> windows-1250
 *
 * Windows-1250 designed to represent texts in Central European and Eastern European languages that use Latin script.
 * Support the languages below:
 * Polish, Czech, Slovak, Hungarian, Slovene, Bosnian, Croatian, Serbian(Latin script), Romanian, Albanian.
 *
 * For more information, please visit: https://en.wikipedia.org/wiki/Windows-1250
 */
static U16 ucs2_to_windows_1250_map[128] =
{
	/*0x80*/0x20AC, /*0x81*/0x0000, /*0x82*/0x201A, /*0x83*/0x0000, /*0x84*/0x201E, /*0x85*/0x2026, /*0x86*/0x2020, /*0x87*/0x2021,
	/*0x88*/0x0000, /*0x89*/0x2030, /*0x8a*/0x0160, /*0x8b*/0x2039, /*0x8c*/0x015A, /*0x8d*/0x0164, /*0x8e*/0x017D, /*0x8f*/0x0179,

	/*0x90*/0x0000, /*0x91*/0x2018, /*0x92*/0x2019, /*0x93*/0x201C, /*0x94*/0x201D, /*0x95*/0x2022, /*0x96*/0x2013, /*0x97*/0x2014,
	/*0x98*/0x0000, /*0x99*/0x2122, /*0x9a*/0x0161, /*0x9b*/0x203A, /*0x9c*/0x015B, /*0x9d*/0x0165, /*0x9e*/0x017E, /*0x9f*/0x017A,

	/*0xa0*/0x00A0, /*0xa1*/0x02C7, /*0xa2*/0x02D8, /*0xa3*/0x0141, /*0xa4*/0x00A4, /*0xa5*/0x0104, /*0xa6*/0x00A6, /*0xa7*/0x00A7,
	/*0xa8*/0x00A8, /*0xa9*/0x00A9, /*0xaa*/0x015E, /*0xab*/0x00AB, /*0xac*/0x00AC, /*0xad*/0x00AD, /*0xae*/0x00AE, /*0xaf*/0x017B,

	/*0xb0*/0x00B0, /*0xb1*/0x00B1, /*0xb2*/0x02DB, /*0xb3*/0x0142, /*0xb4*/0x00B4, /*0xb5*/0x00B5, /*0xb6*/0x00B6, /*0xb7*/0x00B7,
	/*0xb8*/0x00B8, /*0xb9*/0x0105, /*0xba*/0x015F, /*0xbb*/0x00BB, /*0xbc*/0x013D, /*0xbd*/0x02DD, /*0xbe*/0x013E, /*0xbf*/0x017C,

	/*0xc0*/0x0154, /*0xc1*/0x00C1, /*0xc2*/0x00C2, /*0xc3*/0x0102, /*0xc4*/0x00C4, /*0xc5*/0x0139, /*0xc6*/0x0106, /*0xc7*/0x00C7,
	/*0xc8*/0x010C, /*0xc9*/0x00C9, /*0xca*/0x0118, /*0xcb*/0x00CB, /*0xcc*/0x011A, /*0xcd*/0x00CD, /*0xce*/0x00CE, /*0xcf*/0x010E,

	/*0xd0*/0x0110, /*0xd1*/0x0143, /*0xd2*/0x0147, /*0xd3*/0x00D3, /*0xd4*/0x00D4, /*0xd5*/0x0150, /*0xd6*/0x00D6, /*0xd7*/0x00D7,
	/*0xd8*/0x0158, /*0xd9*/0x016E, /*0xda*/0x00DA, /*0xdb*/0x0170, /*0xdc*/0x00DC, /*0xdd*/0x00DD, /*0xde*/0x0162, /*0xdf*/0x00DF,

	/*0xe0*/0x0155, /*0xe1*/0x00E1, /*0xe2*/0x00E2, /*0xe3*/0x0103, /*0xe4*/0x00E4, /*0xe5*/0x013A, /*0xe6*/0x0107, /*0xe7*/0x00E7,
	/*0xe8*/0x010D, /*0xe9*/0x00E9, /*0xea*/0x0119, /*0xeb*/0x00EB, /*0xec*/0x011B, /*0xed*/0x00ED, /*0xee*/0x00EE, /*0xef*/0x010F,

	/*0xf0*/0x0111, /*0xf1*/0x0144, /*0xf2*/0x0148, /*0xf3*/0x00F3, /*0xf4*/0x00F4, /*0xf5*/0x0151, /*0xf6*/0x00F6, /*0xf7*/0x00F7,
	/*0xf8*/0x0159, /*0xf9*/0x016F, /*0xfa*/0x00FA, /*0xfb*/0x0171, /*0xfc*/0x00FC, /*0xfd*/0x00FD, /*0xfe*/0x0163, /*0xff*/0x02D9
};

/*
 * ucs2 <-> windows-1251
 *
 * Windows-1251 designed to cover languages that use the Cyrillic script, support the languages below:
 * Russian, Bulgarian, Serbian(Cyrillic script), Ukrainian, Macedonian.
 *
 * For more information, please visit: https://en.wikipedia.org/wiki/Windows-1251
 */
static U16 ucs2_to_windows_1251_map[128] =
{
	/*0x80*/0x0402, /*0x81*/0x0403, /*0x82*/0x201A, /*0x83*/0x0453, /*0x84*/0x201E, /*0x85*/0x2026, /*0x86*/0x2020, /*0x87*/0x2021,
	/*0x88*/0x20AC, /*0x89*/0x2030, /*0x8a*/0x0409, /*0x8b*/0x2039, /*0x8c*/0x040A, /*0x8d*/0x040C, /*0x8e*/0x040B, /*0x8f*/0x040F,

	/*0x90*/0x0452, /*0x91*/0x2018, /*0x92*/0x2019, /*0x93*/0x201C, /*0x94*/0x201D, /*0x95*/0x2022, /*0x96*/0x2013, /*0x97*/0x2014,
	/*0x98*/0x0000, /*0x99*/0x2122, /*0x9a*/0x0459, /*0x9b*/0x203A, /*0x9c*/0x045A, /*0x9d*/0x045C, /*0x9e*/0x045B, /*0x9f*/0x045F,

	/*0xa0*/0x00A0, /*0xa1*/0x040E, /*0xa2*/0x045E, /*0xa3*/0x0408, /*0xa4*/0x00A4, /*0xa5*/0x0490, /*0xa6*/0x00A6, /*0xa7*/0x00A7,
	/*0xa8*/0x0401, /*0xa9*/0x00A9, /*0xaa*/0x0404, /*0xab*/0x00AB, /*0xac*/0x00AC, /*0xad*/0x00AD, /*0xae*/0x00AE, /*0xaf*/0x0407,

	/*0xb0*/0x00B0, /*0xb1*/0x00B1, /*0xb2*/0x0406, /*0xb3*/0x0456, /*0xb4*/0x0491, /*0xb5*/0x00B5, /*0xb6*/0x00B6, /*0xb7*/0x00B7,
	/*0xb8*/0x0451, /*0xb9*/0x2116, /*0xba*/0x0454, /*0xbb*/0x00BB, /*0xbc*/0x0458, /*0xbd*/0x0405, /*0xbe*/0x0455, /*0xbf*/0x0457,

	/*0xc0*/0x0410, /*0xc1*/0x0411, /*0xc2*/0x0412, /*0xc3*/0x0413, /*0xc4*/0x0414, /*0xc5*/0x0415, /*0xc6*/0x0416, /*0xc7*/0x0417,
	/*0xc8*/0x0418, /*0xc9*/0x0419, /*0xca*/0x041A, /*0xcb*/0x041B, /*0xcc*/0x041C, /*0xcd*/0x041D, /*0xce*/0x041E, /*0xcf*/0x041F,

	/*0xd0*/0x0420, /*0xd1*/0x0421, /*0xd2*/0x0422, /*0xd3*/0x0423, /*0xd4*/0x0424, /*0xd5*/0x0425, /*0xd6*/0x0426, /*0xd7*/0x0427,
	/*0xd8*/0x0428, /*0xd9*/0x0429, /*0xda*/0x042A, /*0xdb*/0x042B, /*0xdc*/0x042C, /*0xdd*/0x042D, /*0xde*/0x042E, /*0xdf*/0x042F,

	/*0xe0*/0x0430, /*0xe1*/0x0431, /*0xe2*/0x0432, /*0xe3*/0x0433, /*0xe4*/0x0434, /*0xe5*/0x0435, /*0xe6*/0x0436, /*0xe7*/0x0437,
	/*0xe8*/0x0438, /*0xe9*/0x0439, /*0xea*/0x043A, /*0xeb*/0x043B, /*0xec*/0x043C, /*0xed*/0x043D, /*0xee*/0x043E, /*0xef*/0x043F,

	/*0xf0*/0x0440, /*0xf1*/0x0441, /*0xf2*/0x0442, /*0xf3*/0x0443, /*0xf4*/0x0444, /*0xf5*/0x0445, /*0xf6*/0x0446, /*0xf7*/0x0447,
	/*0xf8*/0x0448, /*0xf9*/0x0449, /*0xfa*/0x044A, /*0xfb*/0x044B, /*0xfc*/0x044C, /*0xfd*/0x044D, /*0xfe*/0x044E, /*0xff*/0x044F
};

/*
 * ucs2 <-> windows-1252
 *
 * Windows-1252 is a character encoding of the Latin alphabet, it is a superset of ISO-8859-1.
 * Support the languages below:
 * English, German, French, Spanish, Portuguese, Danish, Italian, Dutch, Finnish, Norwegian, Swedish,
 * Indonesian, Afrikaans, Basque, Catalan, Faroese, Galician, Icelandic, Malay, Swahili.
 *
 * For more information, please visit: https://en.wikipedia.org/wiki/Windows-1252
 */
static U16 ucs2_to_windows_1252_map[128] =
{
	/*0x80*/0x20AC, /*0x81*/0x0000, /*0x82*/0x201A, /*0x83*/0x0192, /*0x84*/0x201E, /*0x85*/0x2026, /*0x86*/0x2020, /*0x87*/0x2021,
	/*0x88*/0x02C6, /*0x89*/0x2030, /*0x8a*/0x0160, /*0x8b*/0x2039, /*0x8c*/0x0152, /*0x8d*/0x0000, /*0x8e*/0x017D, /*0x8f*/0x0000,

	/*0x90*/0x0000, /*0x91*/0x2018, /*0x92*/0x2019, /*0x93*/0x201C, /*0x94*/0x201D, /*0x95*/0x2022, /*0x96*/0x2013, /*0x97*/0x2014,
	/*0x98*/0x02DC, /*0x99*/0x2122, /*0x9a*/0x0161, /*0x9b*/0x203A, /*0x9c*/0x0153, /*0x9d*/0x0000, /*0x9e*/0x017E, /*0x9f*/0x0178,

	/*0xa0*/0x00A0, /*0xa1*/0x00A1, /*0xa2*/0x00A2, /*0xa3*/0x00A3, /*0xa4*/0x00A4, /*0xa5*/0x00A5, /*0xa6*/0x00A6, /*0xa7*/0x00A7,
	/*0xa8*/0x00A8, /*0xa9*/0x00A9, /*0xaa*/0x00AA, /*0xab*/0x00AB, /*0xac*/0x00AC, /*0xad*/0x00AD, /*0xae*/0x00AE, /*0xaf*/0x00AF,

	/*0xb0*/0x00B0, /*0xb1*/0x00B1, /*0xb2*/0x00B2, /*0xb3*/0x00B3, /*0xb4*/0x00B4, /*0xb5*/0x00B5, /*0xb6*/0x00B6, /*0xb7*/0x00B7,
	/*0xb8*/0x00B8, /*0xb9*/0x00B9, /*0xba*/0x00BA, /*0xbb*/0x00BB, /*0xbc*/0x00BC, /*0xbd*/0x00BD, /*0xbe*/0x00BE, /*0xbf*/0x00BF,

	/*0xc0*/0x00C0, /*0xc1*/0x00C1, /*0xc2*/0x00C2, /*0xc3*/0x00C3, /*0xc4*/0x00C4, /*0xc5*/0x00C5, /*0xc6*/0x00C6, /*0xc7*/0x00C7,
	/*0xc8*/0x00C8, /*0xc9*/0x00C9, /*0xca*/0x00CA, /*0xcb*/0x00CB, /*0xcc*/0x00CC, /*0xcd*/0x00CD, /*0xce*/0x00CE, /*0xcf*/0x00CF,

	/*0xd0*/0x00D0, /*0xd1*/0x00D1, /*0xd2*/0x00D2, /*0xd3*/0x00D3, /*0xd4*/0x00D4, /*0xd5*/0x00D5, /*0xd6*/0x00D6, /*0xd7*/0x00D7,
	/*0xd8*/0x00D8, /*0xd9*/0x00D9, /*0xda*/0x00DA, /*0xdb*/0x00DB, /*0xdc*/0x00DC, /*0xdd*/0x00DD, /*0xde*/0x00DE, /*0xdf*/0x00DF,

	/*0xe0*/0x00E0, /*0xe1*/0x00E1, /*0xe2*/0x00E2, /*0xe3*/0x00E3, /*0xe4*/0x00E4, /*0xe5*/0x00E5, /*0xe6*/0x00E6, /*0xe7*/0x00E7,
	/*0xe8*/0x00E8, /*0xe9*/0x00E9, /*0xea*/0x00EA, /*0xeb*/0x00EB, /*0xec*/0x00EC, /*0xed*/0x00ED, /*0xee*/0x00EE, /*0xef*/0x00EF,

	/*0xf0*/0x00F0, /*0xf1*/0x00F1, /*0xf2*/0x00F2, /*0xf3*/0x00F3, /*0xf4*/0x00F4, /*0xf5*/0x00F5, /*0xf6*/0x00F6, /*0xf7*/0x00F7,
	/*0xf8*/0x00F8, /*0xf9*/0x00F9, /*0xfa*/0x00FA, /*0xfb*/0x00FB, /*0xfc*/0x00FC, /*0xfd*/0x00FD, /*0xfe*/0x00FE, /*0xff*/0x00FF
};

/*
 * ucs2 <-> windows-1253
 *
 * Windows-1253 support the languages below:
 * Greek.
 *
 * For more information, please visit: https://en.wikipedia.org/wiki/Windows-1253
 */
static U16 ucs2_to_windows_1253_map[128] =
{
	/*0x80*/0x20AC, /*0x81*/0x0000, /*0x82*/0x201A, /*0x83*/0x0192, /*0x84*/0x201E, /*0x85*/0x2026, /*0x86*/0x2020, /*0x87*/0x2021,
	/*0x88*/0x0000, /*0x89*/0x2030, /*0x8a*/0x0000, /*0x8b*/0x2039, /*0x8c*/0x0000, /*0x8d*/0x0000, /*0x8e*/0x0000, /*0x8f*/0x0000,

	/*0x90*/0x0000, /*0x91*/0x2018, /*0x92*/0x2019, /*0x93*/0x201C, /*0x94*/0x201D, /*0x95*/0x2022, /*0x96*/0x2013, /*0x97*/0x2014,
	/*0x98*/0x0000, /*0x99*/0x2122, /*0x9a*/0x0000, /*0x9b*/0x203A, /*0x9c*/0x0000, /*0x9d*/0x0000, /*0x9e*/0x0000, /*0x9f*/0x0000,

	/*0xa0*/0x00A0, /*0xa1*/0x0385, /*0xa2*/0x0386, /*0xa3*/0x00A3, /*0xa4*/0x00A4, /*0xa5*/0x00A5, /*0xa6*/0x00A6, /*0xa7*/0x00A7,
	/*0xa8*/0x00A8, /*0xa9*/0x00A9, /*0xaa*/0x0000, /*0xab*/0x00AB, /*0xac*/0x00AC, /*0xad*/0x00AD, /*0xae*/0x00AE, /*0xaf*/0x2015,

	/*0xb0*/0x00B0, /*0xb1*/0x00B1, /*0xb2*/0x00B2, /*0xb3*/0x00B3, /*0xb4*/0x0384, /*0xb5*/0x00B5, /*0xb6*/0x00B6, /*0xb7*/0x00B7,
	/*0xb8*/0x0388, /*0xb9*/0x0389, /*0xba*/0x038A, /*0xbb*/0x00BB, /*0xbc*/0x038C, /*0xbd*/0x00BD, /*0xbe*/0x038E, /*0xbf*/0x038F,

	/*0xc0*/0x0390, /*0xc1*/0x0391, /*0xc2*/0x0392, /*0xc3*/0x0393, /*0xc4*/0x0394, /*0xc5*/0x0395, /*0xc6*/0x0396, /*0xc7*/0x0397,
	/*0xc8*/0x0398, /*0xc9*/0x0399, /*0xca*/0x039A, /*0xcb*/0x039B, /*0xcc*/0x039C, /*0xcd*/0x039D, /*0xce*/0x039E, /*0xcf*/0x039F,

	/*0xd0*/0x03A0, /*0xd1*/0x03A1, /*0xd2*/0x0000, /*0xd3*/0x03A3, /*0xd4*/0x03A4, /*0xd5*/0x03A5, /*0xd6*/0x03A6, /*0xd7*/0x03A7,
	/*0xd8*/0x03A8, /*0xd9*/0x03A9, /*0xda*/0x03AA, /*0xdb*/0x03AB, /*0xdc*/0x03AC, /*0xdd*/0x03AD, /*0xde*/0x03AE, /*0xdf*/0x03AF,

	/*0xe0*/0x03B0, /*0xe1*/0x03B1, /*0xe2*/0x03B2, /*0xe3*/0x03B3, /*0xe4*/0x03B4, /*0xe5*/0x03B5, /*0xe6*/0x03B6, /*0xe7*/0x03B7,
	/*0xe8*/0x03B8, /*0xe9*/0x03B9, /*0xea*/0x03BA, /*0xeb*/0x03BB, /*0xec*/0x03BC, /*0xed*/0x03BD, /*0xee*/0x03BE, /*0xef*/0x03BF,

	/*0xf0*/0x03C0, /*0xf1*/0x03C1, /*0xf2*/0x03C2, /*0xf3*/0x03C3, /*0xf4*/0x03C4, /*0xf5*/0x03C5, /*0xf6*/0x03C6, /*0xf7*/0x03C7,
	/*0xf8*/0x03C8, /*0xf9*/0x03C9, /*0xfa*/0x03CA, /*0xfb*/0x03CB, /*0xfc*/0x03CC, /*0xfd*/0x03CD, /*0xfe*/0x03CE, /*0xff*/0x0000
};

/*
 * ucs2 <-> windows-1254
 *
 * Windows-1254 is a superset of ISO-8859-9, support the languages below:
 * Turkish.
 *
 * For more information, please visit: https://en.wikipedia.org/wiki/Windows-1254
 */
static U16 ucs2_to_windows_1254_map[128] =
{
	/*0x80*/0x20AC, /*0x81*/0x0000, /*0x82*/0x201A, /*0x83*/0x0192, /*0x84*/0x201E, /*0x85*/0x2026, /*0x86*/0x2020, /*0x87*/0x2021,
	/*0x88*/0x02C6, /*0x89*/0x2030, /*0x8a*/0x0160, /*0x8b*/0x2039, /*0x8c*/0x0152, /*0x8d*/0x0000, /*0x8e*/0x0000, /*0x8f*/0x0000,

	/*0x90*/0x0000, /*0x91*/0x2018, /*0x92*/0x2019, /*0x93*/0x201C, /*0x94*/0x201D, /*0x95*/0x2022, /*0x96*/0x2013, /*0x97*/0x2014,
	/*0x98*/0x02DC, /*0x99*/0x2122, /*0x9a*/0x0161, /*0x9b*/0x203A, /*0x9c*/0x0153, /*0x9d*/0x0000, /*0x9e*/0x0000, /*0x9f*/0x0178,

	/*0xa0*/0x00A0, /*0xa1*/0x00A1, /*0xa2*/0x00A2, /*0xa3*/0x00A3, /*0xa4*/0x00A4, /*0xa5*/0x00A5, /*0xa6*/0x00A6, /*0xa7*/0x00A7,
	/*0xa8*/0x00A8, /*0xa9*/0x00A9, /*0xaa*/0x00AA, /*0xab*/0x00AB, /*0xac*/0x00AC, /*0xad*/0x00AD, /*0xae*/0x00AE, /*0xaf*/0x00AF,

	/*0xb0*/0x00B0, /*0xb1*/0x00B1, /*0xb2*/0x00B2, /*0xb3*/0x00B3, /*0xb4*/0x00B4, /*0xb5*/0x00B5, /*0xb6*/0x00B6, /*0xb7*/0x00B7,
	/*0xb8*/0x00B8, /*0xb9*/0x00B9, /*0xba*/0x00BA, /*0xbb*/0x00BB, /*0xbc*/0x00BC, /*0xbd*/0x00BD, /*0xbe*/0x00BE, /*0xbf*/0x00BF,

	/*0xc0*/0x00C0, /*0xc1*/0x00C1, /*0xc2*/0x00C2, /*0xc3*/0x00C3, /*0xc4*/0x00C4, /*0xc5*/0x00C5, /*0xc6*/0x00C6, /*0xc7*/0x00C7,
	/*0xc8*/0x00C8, /*0xc9*/0x00C9, /*0xca*/0x00CA, /*0xcb*/0x00CB, /*0xcc*/0x00CC, /*0xcd*/0x00CD, /*0xce*/0x00CE, /*0xcf*/0x00CF,

	/*0xd0*/0x011E, /*0xd1*/0x00D1, /*0xd2*/0x00D2, /*0xd3*/0x00D3, /*0xd4*/0x00D4, /*0xd5*/0x00D5, /*0xd6*/0x00D6, /*0xd7*/0x00D7,
	/*0xd8*/0x00D8, /*0xd9*/0x00D9, /*0xda*/0x00DA, /*0xdb*/0x00DB, /*0xdc*/0x00DC, /*0xdd*/0x0130, /*0xde*/0x015E, /*0xdf*/0x00DF,

	/*0xe0*/0x00E0, /*0xe1*/0x00E1, /*0xe2*/0x00E2, /*0xe3*/0x00E3, /*0xe4*/0x00E4, /*0xe5*/0x00E5, /*0xe6*/0x00E6, /*0xe7*/0x00E7,
	/*0xe8*/0x00E8, /*0xe9*/0x00E9, /*0xea*/0x00EA, /*0xeb*/0x00EB, /*0xec*/0x00EC, /*0xed*/0x00ED, /*0xee*/0x00EE, /*0xef*/0x00EF,

	/*0xf0*/0x011F, /*0xf1*/0x00F1, /*0xf2*/0x00F2, /*0xf3*/0x00F3, /*0xf4*/0x00F4, /*0xf5*/0x00F5, /*0xf6*/0x00F6, /*0xf7*/0x00F7,
	/*0xf8*/0x00F8, /*0xf9*/0x00F9, /*0xfa*/0x00FA, /*0xfb*/0x00FB, /*0xfc*/0x00FC, /*0xfd*/0x0131, /*0xfe*/0x015F, /*0xff*/0x00FF
};

/*
 * ucs2 <-> windows-1255
 *
 * Windows-1255 support the languages below:
 * Hebrew.
 *
 * For more information, please visit: https://en.wikipedia.org/wiki/Windows-1255
 */
#if 0	/* language(s) which using this charset have not be needed yet */
static U16 ucs2_to_windows_1255_map[128] =
{
	/*0x80*/0x20AC, /*0x81*/0x0000, /*0x82*/0x201A, /*0x83*/0x0192, /*0x84*/0x201E, /*0x85*/0x2026, /*0x86*/0x2020, /*0x87*/0x2021,
	/*0x88*/0x02C6, /*0x89*/0x2030, /*0x8a*/0x0000, /*0x8b*/0x2039, /*0x8c*/0x0000, /*0x8d*/0x0000, /*0x8e*/0x0000, /*0x8f*/0x0000,

	/*0x90*/0x0000, /*0x91*/0x2018, /*0x92*/0x2019, /*0x93*/0x201C, /*0x94*/0x201D, /*0x95*/0x2022, /*0x96*/0x2013, /*0x97*/0x2014,
	/*0x98*/0x02DC, /*0x99*/0x2122, /*0x9a*/0x0000, /*0x9b*/0x203A, /*0x9c*/0x0000, /*0x9d*/0x0000, /*0x9e*/0x0000, /*0x9f*/0x0000,

	/*0xa0*/0x00A0, /*0xa1*/0x00A1, /*0xa2*/0x00A2, /*0xa3*/0x00A3, /*0xa4*/0x20AA, /*0xa5*/0x00A5, /*0xa6*/0x00A6, /*0xa7*/0x00A7,
	/*0xa8*/0x00A8, /*0xa9*/0x00A9, /*0xaa*/0x00D7, /*0xab*/0x00AB, /*0xac*/0x00AC, /*0xad*/0x00AD, /*0xae*/0x00AE, /*0xaf*/0x00AF,

	/*0xb0*/0x00B0, /*0xb1*/0x00B1, /*0xb2*/0x00B2, /*0xb3*/0x00B3, /*0xb4*/0x00B4, /*0xb5*/0x00B5, /*0xb6*/0x00B6, /*0xb7*/0x00B7,
	/*0xb8*/0x00B8, /*0xb9*/0x00B9, /*0xba*/0x00F7, /*0xbb*/0x00BB, /*0xbc*/0x00BC, /*0xbd*/0x00BD, /*0xbe*/0x00BE, /*0xbf*/0x00BF,

	/*0xc0*/0x05B0, /*0xc1*/0x05B1, /*0xc2*/0x05B2, /*0xc3*/0x05B3, /*0xc4*/0x05B4, /*0xc5*/0x05B5, /*0xc6*/0x05B6, /*0xc7*/0x05B7,
	/*0xc8*/0x05B8, /*0xc9*/0x05B9, /*0xca*/0x05BA, /*0xcb*/0x05BB, /*0xcc*/0x05BC, /*0xcd*/0x05BD, /*0xce*/0x05BE, /*0xcf*/0x05BF,

	/*0xd0*/0x05C0, /*0xd1*/0x05C1, /*0xd2*/0x05C2, /*0xd3*/0x05C3, /*0xd4*/0x05F0, /*0xd5*/0x05F1, /*0xd6*/0x05F2, /*0xd7*/0x05F3,
	/*0xd8*/0x05F4, /*0xd9*/0x0000, /*0xda*/0x0000, /*0xdb*/0x0000, /*0xdc*/0x0000, /*0xdd*/0x0000, /*0xde*/0x0000, /*0xdf*/0x0000,

	/*0xe0*/0x05D0, /*0xe1*/0x05D1, /*0xe2*/0x05D2, /*0xe3*/0x05D3, /*0xe4*/0x05D4, /*0xe5*/0x05D5, /*0xe6*/0x05D6, /*0xe7*/0x05D7,
	/*0xe8*/0x05D8, /*0xe9*/0x05D9, /*0xea*/0x05DA, /*0xeb*/0x05DB, /*0xec*/0x05DC, /*0xed*/0x05DD, /*0xee*/0x05DE, /*0xef*/0x05DF,

	/*0xf0*/0x05E0, /*0xf1*/0x05E1, /*0xf2*/0x05E2, /*0xf3*/0x05E3, /*0xf4*/0x05E4, /*0xf5*/0x05E5, /*0xf6*/0x05E6, /*0xf7*/0x05E7,
	/*0xf8*/0x05E8, /*0xf9*/0x05E9, /*0xfa*/0x05EA, /*0xfb*/0x0000, /*0xfc*/0x0000, /*0xfd*/0x200E, /*0xfe*/0x200F, /*0xff*/0x0000
};
#endif

/*
 * ucs2 <-> windows-1256
 *
 * Windows-1256 support the languages below:
 * Arabic, Farsi(Persian), Urdu.
 *
 * For more information, please visit: https://en.wikipedia.org/wiki/Windows-1256
 */
static U16 ucs2_to_windows_1256_map[128] =
{
	/*0x80*/0x20AC, /*0x81*/0x067E, /*0x82*/0x201A, /*0x83*/0x0192, /*0x84*/0x201E, /*0x85*/0x2026, /*0x86*/0x2020, /*0x87*/0x2021,
	/*0x88*/0x02C6, /*0x89*/0x2030, /*0x8a*/0x0679, /*0x8b*/0x2039, /*0x8c*/0x0152, /*0x8d*/0x0686, /*0x8e*/0x0698, /*0x8f*/0x0688,

	/*0x90*/0x06AF, /*0x91*/0x2018, /*0x92*/0x2019, /*0x93*/0x201C, /*0x94*/0x201D, /*0x95*/0x2022, /*0x96*/0x2013, /*0x97*/0x2014,
	/*0x98*/0x06A9, /*0x99*/0x2122, /*0x9a*/0x0691, /*0x9b*/0x203A, /*0x9c*/0x0153, /*0x9d*/0x200C, /*0x9e*/0x200D, /*0x9f*/0x06BA,

	/*0xa0*/0x00A0, /*0xa1*/0x060C, /*0xa2*/0x00A2, /*0xa3*/0x00A3, /*0xa4*/0x00A4, /*0xa5*/0x00A5, /*0xa6*/0x00A6, /*0xa7*/0x00A7,
	/*0xa8*/0x00A8, /*0xa9*/0x00A9, /*0xaa*/0x06BE, /*0xab*/0x00AB, /*0xac*/0x00AC, /*0xad*/0x00AD, /*0xae*/0x00AE, /*0xaf*/0x00AF,

	/*0xb0*/0x00B0, /*0xb1*/0x00B1, /*0xb2*/0x00B2, /*0xb3*/0x00B3, /*0xb4*/0x00B4, /*0xb5*/0x00B5, /*0xb6*/0x00B6, /*0xb7*/0x00B7,
	/*0xb8*/0x00B8, /*0xb9*/0x00B9, /*0xba*/0x061B, /*0xbb*/0x00BB, /*0xbc*/0x00BC, /*0xbd*/0x00BD, /*0xbe*/0x00BE, /*0xbf*/0x061F,

	/*0xc0*/0x06C1, /*0xc1*/0x0621, /*0xc2*/0x0622, /*0xc3*/0x0623, /*0xc4*/0x0624, /*0xc5*/0x0625, /*0xc6*/0x0626, /*0xc7*/0x0627,
	/*0xc8*/0x0628, /*0xc9*/0x0629, /*0xca*/0x062A, /*0xcb*/0x062B, /*0xcc*/0x062C, /*0xcd*/0x062D, /*0xce*/0x062E, /*0xcf*/0x062F,

	/*0xd0*/0x0630, /*0xd1*/0x0631, /*0xd2*/0x0632, /*0xd3*/0x0633, /*0xd4*/0x0634, /*0xd5*/0x0635, /*0xd6*/0x0636, /*0xd7*/0x00D7,
	/*0xd8*/0x0637, /*0xd9*/0x0638, /*0xda*/0x0639, /*0xdb*/0x063A, /*0xdc*/0x0640, /*0xdd*/0x0641, /*0xde*/0x0642, /*0xdf*/0x0643,

	/*0xe0*/0x00E0, /*0xe1*/0x0644, /*0xe2*/0x00E2, /*0xe3*/0x0645, /*0xe4*/0x0646, /*0xe5*/0x0647, /*0xe6*/0x0648, /*0xe7*/0x00E7,
	/*0xe8*/0x00E8, /*0xe9*/0x00E9, /*0xea*/0x00EA, /*0xeb*/0x00EB, /*0xec*/0x0649, /*0xed*/0x064A, /*0xee*/0x00EE, /*0xef*/0x00EF,

	/*0xf0*/0x064B, /*0xf1*/0x064C, /*0xf2*/0x064D, /*0xf3*/0x064E, /*0xf4*/0x00F4, /*0xf5*/0x064F, /*0xf6*/0x0650, /*0xf7*/0x00F7,
	/*0xf8*/0x0651, /*0xf9*/0x00F9, /*0xfa*/0x0652, /*0xfb*/0x00FB, /*0xfc*/0x00FC, /*0xfd*/0x200E, /*0xfe*/0x200F, /*0xff*/0x06D2
};

/*
 * ucs2 <-> windows-1257
 *
 * Windows-1257 support the languages below:
 * Estonian, Latvian, Lithuanian.
 *
 * For more information, please visit: https://en.wikipedia.org/wiki/Windows-1257
 */
static U16 ucs2_to_windows_1257_map[128] =
{
	/*0x80*/0x20AC, /*0x81*/0x0000, /*0x82*/0x201A, /*0x83*/0x0000, /*0x84*/0x201E, /*0x85*/0x2026, /*0x86*/0x2020, /*0x87*/0x2021,
	/*0x88*/0x0000, /*0x89*/0x2030, /*0x8a*/0x0000, /*0x8b*/0x2039, /*0x8c*/0x0000, /*0x8d*/0x00A8, /*0x8e*/0x02C7, /*0x8f*/0x00B8,

	/*0x90*/0x0000, /*0x91*/0x2018, /*0x92*/0x2019, /*0x93*/0x201C, /*0x94*/0x201D, /*0x95*/0x2022, /*0x96*/0x2013, /*0x97*/0x2014,
	/*0x98*/0x0000, /*0x99*/0x2122, /*0x9a*/0x0000, /*0x9b*/0x203A, /*0x9c*/0x0000, /*0x9d*/0x00AF, /*0x9e*/0x02DB, /*0x9f*/0x0000,

	/*0xa0*/0x00A0, /*0xa1*/0x0000, /*0xa2*/0x00A2, /*0xa3*/0x00A3, /*0xa4*/0x00A4, /*0xa5*/0x0000, /*0xa6*/0x00A6, /*0xa7*/0x00A7,
	/*0xa8*/0x00D8, /*0xa9*/0x00A9, /*0xaa*/0x0156, /*0xab*/0x00AB, /*0xac*/0x00AC, /*0xad*/0x00AD, /*0xae*/0x00AE, /*0xaf*/0x00C6,

	/*0xb0*/0x00B0, /*0xb1*/0x00B1, /*0xb2*/0x00B2, /*0xb3*/0x00B3, /*0xb4*/0x00B4, /*0xb5*/0x00B5, /*0xb6*/0x00B6, /*0xb7*/0x00B7,
	/*0xb8*/0x00F8, /*0xb9*/0x00B9, /*0xba*/0x0157, /*0xbb*/0x00BB, /*0xbc*/0x00BC, /*0xbd*/0x00BD, /*0xbe*/0x00BE, /*0xbf*/0x00E6,

	/*0xc0*/0x0104, /*0xc1*/0x012E, /*0xc2*/0x0100, /*0xc3*/0x0106, /*0xc4*/0x00C4, /*0xc5*/0x00C5, /*0xc6*/0x0118, /*0xc7*/0x0112,
	/*0xc8*/0x010C, /*0xc9*/0x00C9, /*0xca*/0x0179, /*0xcb*/0x0116, /*0xcc*/0x0122, /*0xcd*/0x0136, /*0xce*/0x012A, /*0xcf*/0x013B,

	/*0xd0*/0x0160, /*0xd1*/0x0143, /*0xd2*/0x0145, /*0xd3*/0x00D3, /*0xd4*/0x014C, /*0xd5*/0x00D5, /*0xd6*/0x00D6, /*0xd7*/0x00D7,
	/*0xd8*/0x0172, /*0xd9*/0x0141, /*0xda*/0x015A, /*0xdb*/0x016A, /*0xdc*/0x00DC, /*0xdd*/0x017B, /*0xde*/0x017D, /*0xdf*/0x00DF,

	/*0xe0*/0x0105, /*0xe1*/0x012F, /*0xe2*/0x0101, /*0xe3*/0x0107, /*0xe4*/0x00E4, /*0xe5*/0x00E5, /*0xe6*/0x0119, /*0xe7*/0x0113,
	/*0xe8*/0x010D, /*0xe9*/0x00E9, /*0xea*/0x017A, /*0xeb*/0x0117, /*0xec*/0x0123, /*0xed*/0x0137, /*0xee*/0x012B, /*0xef*/0x013C,

	/*0xf0*/0x0161, /*0xf1*/0x0144, /*0xf2*/0x0146, /*0xf3*/0x00F3, /*0xf4*/0x014D, /*0xf5*/0x00F5, /*0xf6*/0x00F6, /*0xf7*/0x00F7,
	/*0xf8*/0x0173, /*0xf9*/0x0142, /*0xfa*/0x015B, /*0xfb*/0x016B, /*0xfc*/0x00FC, /*0xfd*/0x017C, /*0xfe*/0x017E, /*0xff*/0x02D9
};


/*********************************************************************************************************************************
 *                                                         ISO/IEC 8859                                                          *
 *********************************************************************************************************************************/
/*
 * ucs2 <-> iso-8859-1
 *
 * ISO/IEC 8859-1 can support languages below:
 * Afrikaans, Albanian, Basque, Breton, Corsican, Danish, English, Faroese, Galician, German, Icelandic, Irish, Indonesian,
 * Italian, Kurdish, Leonese, Luxembourgish, Malay, Manx, Norwegian, Occitan, Portuguese, Rhaeto-Romanic, Scottish Gaelic,
 * Spanish, Swahili, Swedish, Walloon.
 *
 * It's a subset of windows-1252, so we can use windows-1252 instead of it.
 *
 * For more information, please visit: https://en.wikipedia.org/wiki/ISO/IEC_8859-1
 */
#if 0	/* same with windows-1252 */
static U16 ucs2_to_iso_8859_1_map[96] =
{
	/*0xa0*/0x00A0, /*0xa1*/0x00A1, /*0xa2*/0x00A2, /*0xa3*/0x00A3, /*0xa4*/0x00A4, /*0xa5*/0x00A5, /*0xa6*/0x00A6, /*0xa7*/0x00A7,
	/*0xa8*/0x00A8, /*0xa9*/0x00A9, /*0xaa*/0x00AA, /*0xab*/0x00AB, /*0xac*/0x00AC, /*0xad*/0x00AD, /*0xae*/0x00AE, /*0xaf*/0x00AF,

	/*0xb0*/0x00B0, /*0xb1*/0x00B1, /*0xb2*/0x00B2, /*0xb3*/0x00B3, /*0xb4*/0x00B4, /*0xb5*/0x00B5, /*0xb6*/0x00B6, /*0xb7*/0x00B7,
	/*0xb8*/0x00B8, /*0xb9*/0x00B9, /*0xba*/0x00BA, /*0xbb*/0x00BB, /*0xbc*/0x00BC, /*0xbd*/0x00BD, /*0xbe*/0x00BE, /*0xbf*/0x00BF,

	/*0xc0*/0x00C0, /*0xc1*/0x00C1, /*0xc2*/0x00C2, /*0xc3*/0x00C3, /*0xc4*/0x00C4, /*0xc5*/0x00C5, /*0xc6*/0x00C6, /*0xc7*/0x00C7,
	/*0xc8*/0x00C8, /*0xc9*/0x00C9, /*0xca*/0x00CA, /*0xcb*/0x00CB, /*0xcc*/0x00CC, /*0xcd*/0x00CD, /*0xce*/0x00CE, /*0xcf*/0x00CF,

	/*0xd0*/0x00D0, /*0xd1*/0x00D1, /*0xd2*/0x00D2, /*0xd3*/0x00D3, /*0xd4*/0x00D4, /*0xd5*/0x00D5, /*0xd6*/0x00D6, /*0xd7*/0x00D7,
	/*0xd8*/0x00D8, /*0xd9*/0x00D9, /*0xda*/0x00DA, /*0xdb*/0x00DB, /*0xdc*/0x00DC, /*0xdd*/0x00DD, /*0xde*/0x00DE, /*0xdf*/0x00DF,

	/*0xe0*/0x00E0, /*0xe1*/0x00E1, /*0xe2*/0x00E2, /*0xe3*/0x00E3, /*0xe4*/0x00E4, /*0xe5*/0x00E5, /*0xe6*/0x00E6, /*0xe7*/0x00E7,
	/*0xe8*/0x00E8, /*0xe9*/0x00E9, /*0xea*/0x00EA, /*0xeb*/0x00EB, /*0xec*/0x00EC, /*0xed*/0x00ED, /*0xee*/0x00EE, /*0xef*/0x00EF,

	/*0xf0*/0x00F0, /*0xf1*/0x00F1, /*0xf2*/0x00F2, /*0xf3*/0x00F3, /*0xf4*/0x00F4, /*0xf5*/0x00F5, /*0xf6*/0x00F6, /*0xf7*/0x00F7,
	/*0xf8*/0x00F8, /*0xf9*/0x00F9, /*0xfa*/0x00FA, /*0xfb*/0x00FB, /*0xfc*/0x00FC, /*0xfd*/0x00FD, /*0xfe*/0x00FE, /*0xff*/0x00FF
};
#endif

/*
 * ucs2 <-> iso-8859-2
 *
 * ISO/IEC 8859-2 support languages below:
 * Bosnian, Croatian, Czech, German, Hungarian, Polish, Romanian, Serbian Latin, Slovak, Slovene, Sorbian, Turkmen.
 *
 * Similar with windows-1250, but not same.
 *
 * For more information, please visit: https://en.wikipedia.org/wiki/ISO/IEC_8859-2
 */
static U16 ucs2_to_iso_8859_2_map[96] =
{
	/*0xa0*/0x00A0, /*0xa1*/0x0104, /*0xa2*/0x02D8, /*0xa3*/0x0141, /*0xa4*/0x00A4, /*0xa5*/0x013D, /*0xa6*/0x015A, /*0xa7*/0x00A7,
	/*0xa8*/0x00A8, /*0xa9*/0x0160, /*0xaa*/0x015E, /*0xab*/0x0164, /*0xac*/0x0179, /*0xad*/0x00AD, /*0xae*/0x017D, /*0xaf*/0x017B,

	/*0xb0*/0x00B0, /*0xb1*/0x0105, /*0xb2*/0x02DB, /*0xb3*/0x0142, /*0xb4*/0x00B4, /*0xb5*/0x013E, /*0xb6*/0x015B, /*0xb7*/0x02C7,
	/*0xb8*/0x00B8, /*0xb9*/0x0161, /*0xba*/0x015F, /*0xbb*/0x0165, /*0xbc*/0x017A, /*0xbd*/0x02DD, /*0xbe*/0x017E, /*0xbf*/0x017C,

	/*0xc0*/0x0154, /*0xc1*/0x00C1, /*0xc2*/0x00C2, /*0xc3*/0x0102, /*0xc4*/0x00C4, /*0xc5*/0x0139, /*0xc6*/0x0106, /*0xc7*/0x00C7,
	/*0xc8*/0x010C, /*0xc9*/0x00C9, /*0xca*/0x0118, /*0xcb*/0x00CB, /*0xcc*/0x011A, /*0xcd*/0x00CD, /*0xce*/0x00CE, /*0xcf*/0x010E,

	/*0xd0*/0x0110, /*0xd1*/0x0143, /*0xd2*/0x0147, /*0xd3*/0x00D3, /*0xd4*/0x00D4, /*0xd5*/0x0150, /*0xd6*/0x00D6, /*0xd7*/0x00D7,
	/*0xd8*/0x0158, /*0xd9*/0x016E, /*0xda*/0x00DA, /*0xdb*/0x0170, /*0xdc*/0x00DC, /*0xdd*/0x00DD, /*0xde*/0x0162, /*0xdf*/0x00DF,

	/*0xe0*/0x0155, /*0xe1*/0x00E1, /*0xe2*/0x00E2, /*0xe3*/0x0103, /*0xe4*/0x00E4, /*0xe5*/0x013A, /*0xe6*/0x0107, /*0xe7*/0x00E7,
	/*0xe8*/0x010D, /*0xe9*/0x00E9, /*0xea*/0x0119, /*0xeb*/0x00EB, /*0xec*/0x011B, /*0xed*/0x00ED, /*0xee*/0x00EE, /*0xef*/0x010F,

	/*0xf0*/0x0111, /*0xf1*/0x0144, /*0xf2*/0x0148, /*0xf3*/0x00F3, /*0xf4*/0x00F4, /*0xf5*/0x0151, /*0xf6*/0x00F6, /*0xf7*/0x00F7,
	/*0xf8*/0x0159, /*0xf9*/0x016F, /*0xfa*/0x00FA, /*0xfb*/0x0171, /*0xfc*/0x00FC, /*0xfd*/0x00FD, /*0xfe*/0x0163, /*0xff*/0x02D9
};

/*
 * ucs2 <-> iso-8859-3
 *
 * ISO/IEC 8859-3 support languages below:
 * Turkish, Maltese, Esperanto.
 *
 * Please NOTE that, Turkish usually use ISO/IEC 8859-9.
 *
 * For more information, please visit: https://en.wikipedia.org/wiki/ISO/IEC_8859-3
 */
#if 0	/* language(s) which using this charset have not be needed yet */
static U16 ucs2_to_iso_8859_3_map[96] =
{
	/*0xa0*/0x00A0, /*0xa1*/0x0126, /*0xa2*/0x02D8, /*0xa3*/0x00A3, /*0xa4*/0x00A4, /*0xa5*/0x0000, /*0xa6*/0x0124, /*0xa7*/0x00A7,
	/*0xa8*/0x00A8, /*0xa9*/0x0130, /*0xaa*/0x015E, /*0xab*/0x011E, /*0xac*/0x0134, /*0xad*/0x00AD, /*0xae*/0x0000, /*0xaf*/0x017B,

	/*0xb0*/0x00B0, /*0xb1*/0x0127, /*0xb2*/0x00B2, /*0xb3*/0x00B3, /*0xb4*/0x00B4, /*0xb5*/0x00B5, /*0xb6*/0x0125, /*0xb7*/0x00B7,
	/*0xb8*/0x00B8, /*0xb9*/0x0131, /*0xba*/0x015F, /*0xbb*/0x011F, /*0xbc*/0x0135, /*0xbd*/0x00BD, /*0xbe*/0x0000, /*0xbf*/0x017C,

	/*0xc0*/0x00C0, /*0xc1*/0x00C1, /*0xc2*/0x00C2, /*0xc3*/0x0000, /*0xc4*/0x00C4, /*0xc5*/0x010A, /*0xc6*/0x0108, /*0xc7*/0x00C7,
	/*0xc8*/0x00C8, /*0xc9*/0x00C9, /*0xca*/0x00CA, /*0xcb*/0x00CB, /*0xcc*/0x00CC, /*0xcd*/0x00CD, /*0xce*/0x00CE, /*0xcf*/0x00CF,

	/*0xd0*/0x0000, /*0xd1*/0x00D1, /*0xd2*/0x00D2, /*0xd3*/0x00D3, /*0xd4*/0x00D4, /*0xd5*/0x0120, /*0xd6*/0x00D6, /*0xd7*/0x00D7,
	/*0xd8*/0x011C, /*0xd9*/0x00D9, /*0xda*/0x00DA, /*0xdb*/0x00DB, /*0xdc*/0x00DC, /*0xdd*/0x016C, /*0xde*/0x015C, /*0xdf*/0x00DF,

	/*0xe0*/0x00E0, /*0xe1*/0x00E1, /*0xe2*/0x00E2, /*0xe3*/0x0000, /*0xe4*/0x00E4, /*0xe5*/0x010B, /*0xe6*/0x0109, /*0xe7*/0x00E7,
	/*0xe8*/0x00E8, /*0xe9*/0x00E9, /*0xea*/0x00EA, /*0xeb*/0x00EB, /*0xec*/0x00EC, /*0xed*/0x00ED, /*0xee*/0x00EE, /*0xef*/0x00EF,

	/*0xf0*/0x0000, /*0xf1*/0x00F1, /*0xf2*/0x00F2, /*0xf3*/0x00F3, /*0xf4*/0x00F4, /*0xf5*/0x0121, /*0xf6*/0x00F6, /*0xf7*/0x00F7,
	/*0xf8*/0x011D, /*0xf9*/0x00F9, /*0xfa*/0x00FA, /*0xfb*/0x00FB, /*0xfc*/0x00FC, /*0xfd*/0x016D, /*0xfe*/0x015D, /*0xff*/0x02D9
};
#endif

/*
 * ucs2 <-> iso-8859-4
 *
 * ISO/IEC 8859-4 support languages below:
 * Estonian, Latvian, Lithuanian, Greenlandic, Sami.
 *
 * It has been largely superseded by ISO/IEC 8859-10.
 *
 * For more information, please visit: https://en.wikipedia.org/wiki/ISO/IEC_8859-4
 */
#if 0	/* use iso-8859-10 */
static U16 ucs2_to_iso_8859_4_map[96] =
{
	/*0xa0*/0x00A0, /*0xa1*/0x0104, /*0xa2*/0x0138, /*0xa3*/0x0156, /*0xa4*/0x00A4, /*0xa5*/0x0128, /*0xa6*/0x013B, /*0xa7*/0x00A7,
	/*0xa8*/0x00A8, /*0xa9*/0x0160, /*0xaa*/0x0112, /*0xab*/0x0122, /*0xac*/0x0166, /*0xad*/0x00AD, /*0xae*/0x017D, /*0xaf*/0x00AF,

	/*0xb0*/0x00B0, /*0xb1*/0x0105, /*0xb2*/0x02DB, /*0xb3*/0x0157, /*0xb4*/0x00B4, /*0xb5*/0x0129, /*0xb6*/0x013C, /*0xb7*/0x02C7,
	/*0xb8*/0x00B8, /*0xb9*/0x0161, /*0xba*/0x0113, /*0xbb*/0x0123, /*0xbc*/0x0167, /*0xbd*/0x014A, /*0xbe*/0x017E, /*0xbf*/0x014B,

	/*0xc0*/0x0100, /*0xc1*/0x00C1, /*0xc2*/0x00C2, /*0xc3*/0x00C3, /*0xc4*/0x00C4, /*0xc5*/0x00C5, /*0xc6*/0x00C6, /*0xc7*/0x012E,
	/*0xc8*/0x010C, /*0xc9*/0x00C9, /*0xca*/0x0118, /*0xcb*/0x00CB, /*0xcc*/0x0116, /*0xcd*/0x00CD, /*0xce*/0x00CE, /*0xcf*/0x012A,

	/*0xd0*/0x0110, /*0xd1*/0x0145, /*0xd2*/0x014C, /*0xd3*/0x0136, /*0xd4*/0x00D4, /*0xd5*/0x00D5, /*0xd6*/0x00D6, /*0xd7*/0x00D7,
	/*0xd8*/0x00D8, /*0xd9*/0x0172, /*0xda*/0x00DA, /*0xdb*/0x00DB, /*0xdc*/0x00DC, /*0xdd*/0x0168, /*0xde*/0x016A, /*0xdf*/0x00DF,

	/*0xe0*/0x0101, /*0xe1*/0x00E1, /*0xe2*/0x00E2, /*0xe3*/0x00E3, /*0xe4*/0x00E4, /*0xe5*/0x00E5, /*0xe6*/0x00E6, /*0xe7*/0x012F,
	/*0xe8*/0x010D, /*0xe9*/0x00E9, /*0xea*/0x0119, /*0xeb*/0x00EB, /*0xec*/0x0117, /*0xed*/0x00ED, /*0xee*/0x00EE, /*0xef*/0x012B,

	/*0xf0*/0x0111, /*0xf1*/0x0146, /*0xf2*/0x014D, /*0xf3*/0x0137, /*0xf4*/0x00F4, /*0xf5*/0x00F5, /*0xf6*/0x00F6, /*0xf7*/0x00F7,
	/*0xf8*/0x00F8, /*0xf9*/0x0173, /*0xfa*/0x00FA, /*0xfb*/0x00FB, /*0xfc*/0x00FC, /*0xfd*/0x0169, /*0xfe*/0x016B, /*0xff*/0x02D9
};
#endif

/*
 * ucs2 <-> iso-8859-5
 *
 * ISO/IEC 8859-5 support languages below:
 * Bulgarian, Belarusian, Russian, Serbian, Macedonian.
 *
 * For more information, please visit: https://en.wikipedia.org/wiki/ISO/IEC_8859-5
 */
static U16 ucs2_to_iso_8859_5_map[96] =
{
	/*0xa0*/0x00A0, /*0xa1*/0x0401, /*0xa2*/0x0402, /*0xa3*/0x0403, /*0xa4*/0x0404, /*0xa5*/0x0405, /*0xa6*/0x0406, /*0xa7*/0x0407,
	/*0xa8*/0x0408, /*0xa9*/0x0409, /*0xaa*/0x040A, /*0xab*/0x040B, /*0xac*/0x040C, /*0xad*/0x00AD, /*0xae*/0x040E, /*0xaf*/0x040F,

	/*0xb0*/0x0410, /*0xb1*/0x0411, /*0xb2*/0x0412, /*0xb3*/0x0413, /*0xb4*/0x0414, /*0xb5*/0x0415, /*0xb6*/0x0416, /*0xb7*/0x0417,
	/*0xb8*/0x0418, /*0xb9*/0x0419, /*0xba*/0x041A, /*0xbb*/0x041B, /*0xbc*/0x041C, /*0xbd*/0x041D, /*0xbe*/0x041E, /*0xbf*/0x041F,

	/*0xc0*/0x0420, /*0xc1*/0x0421, /*0xc2*/0x0422, /*0xc3*/0x0423, /*0xc4*/0x0424, /*0xc5*/0x0425, /*0xc6*/0x0426, /*0xc7*/0x0427,
	/*0xc8*/0x0428, /*0xc9*/0x0429, /*0xca*/0x042A, /*0xcb*/0x042B, /*0xcc*/0x042C, /*0xcd*/0x042D, /*0xce*/0x042E, /*0xcf*/0x042F,

	/*0xd0*/0x0430, /*0xd1*/0x0431, /*0xd2*/0x0432, /*0xd3*/0x0433, /*0xd4*/0x0434, /*0xd5*/0x0435, /*0xd6*/0x0436, /*0xd7*/0x0437,
	/*0xd8*/0x0438, /*0xd9*/0x0439, /*0xda*/0x043A, /*0xdb*/0x043B, /*0xdc*/0x043C, /*0xdd*/0x043D, /*0xde*/0x043E, /*0xdf*/0x043F,

	/*0xe0*/0x0440, /*0xe1*/0x0441, /*0xe2*/0x0442, /*0xe3*/0x0443, /*0xe4*/0x0444, /*0xe5*/0x0445, /*0xe6*/0x0446, /*0xe7*/0x0447,
	/*0xe8*/0x0448, /*0xe9*/0x0449, /*0xea*/0x044A, /*0xeb*/0x044B, /*0xec*/0x044C, /*0xed*/0x044D, /*0xee*/0x044E, /*0xef*/0x044F,

	/*0xf0*/0x2116, /*0xf1*/0x0451, /*0xf2*/0x0452, /*0xf3*/0x0453, /*0xf4*/0x0454, /*0xf5*/0x0455, /*0xf6*/0x0456, /*0xf7*/0x0457,
	/*0xf8*/0x0458, /*0xf9*/0x0459, /*0xfa*/0x045A, /*0xfb*/0x045B, /*0xfc*/0x045C, /*0xfd*/0x00A7, /*0xfe*/0x045E, /*0xff*/0x045F
};

/*
 * ucs2 <-> iso-8859-6
 *
 * ISO/IEC 8859-6 support languages below:
 * Arabic.
 *
 * For more information, please visit: https://en.wikipedia.org/wiki/ISO/IEC_8859-6
 */
static U16 ucs2_to_iso_8859_6_map[96] =
{
	/*0xa0*/0x00A0, /*0xa1*/0x0000, /*0xa2*/0x0000, /*0xa3*/0x0000, /*0xa4*/0x00A4, /*0xa5*/0x0000, /*0xa6*/0x0000, /*0xa7*/0x0000,
	/*0xa8*/0x0000, /*0xa9*/0x0000, /*0xaa*/0x0000, /*0xab*/0x0000, /*0xac*/0x060C, /*0xad*/0x00AD, /*0xae*/0x0000, /*0xaf*/0x0000,

	/*0xb0*/0x0000, /*0xb1*/0x0000, /*0xb2*/0x0000, /*0xb3*/0x0000, /*0xb4*/0x0000, /*0xb5*/0x0000, /*0xb6*/0x0000, /*0xb7*/0x0000,
	/*0xb8*/0x0000, /*0xb9*/0x0000, /*0xba*/0x0000, /*0xbb*/0x061B, /*0xbc*/0x0000, /*0xbd*/0x0000, /*0xbe*/0x0000, /*0xbf*/0x061F,

	/*0xc0*/0x0000, /*0xc1*/0x0621, /*0xc2*/0x0622, /*0xc3*/0x0623, /*0xc4*/0x0624, /*0xc5*/0x0625, /*0xc6*/0x0626, /*0xc7*/0x0627,
	/*0xc8*/0x0628, /*0xc9*/0x0629, /*0xca*/0x062A, /*0xcb*/0x062B, /*0xcc*/0x062C, /*0xcd*/0x062D, /*0xce*/0x062E, /*0xcf*/0x062F,

	/*0xd0*/0x0630, /*0xd1*/0x0631, /*0xd2*/0x0632, /*0xd3*/0x0633, /*0xd4*/0x0634, /*0xd5*/0x0635, /*0xd6*/0x0636, /*0xd7*/0x0637,
	/*0xd8*/0x0638, /*0xd9*/0x0639, /*0xda*/0x063A, /*0xdb*/0x0000, /*0xdc*/0x0000, /*0xdd*/0x0000, /*0xde*/0x0000, /*0xdf*/0x0000,

	/*0xe0*/0x0640, /*0xe1*/0x0641, /*0xe2*/0x0642, /*0xe3*/0x0643, /*0xe4*/0x0644, /*0xe5*/0x0645, /*0xe6*/0x0646, /*0xe7*/0x0647,
	/*0xe8*/0x0648, /*0xe9*/0x0649, /*0xea*/0x064A, /*0xeb*/0x064B, /*0xec*/0x064C, /*0xed*/0x064D, /*0xee*/0x064E, /*0xef*/0x064F,

	/*0xf0*/0x0650, /*0xf1*/0x0651, /*0xf2*/0x0652, /*0xf3*/0x0000, /*0xf4*/0x0000, /*0xf5*/0x0000, /*0xf6*/0x0000, /*0xf7*/0x0000,
	/*0xf8*/0x0000, /*0xf9*/0x0000, /*0xfa*/0x0000, /*0xfb*/0x0000, /*0xfc*/0x0000, /*0xfd*/0x0000, /*0xfe*/0x0000, /*0xff*/0x0000
};

/*
 * ucs2 <-> iso-8859-7
 *
 * ISO/IEC 8859-7 support languages below:
 * Greek.
 *
 * For more information, please visit: https://en.wikipedia.org/wiki/ISO/IEC_8859-7
 */
static U16 ucs2_to_iso_8859_7_map[96] =
{
	/*0xa0*/0x00A0, /*0xa1*/0x2018, /*0xa2*/0x2019, /*0xa3*/0x00A3, /*0xa4*/0x20AC, /*0xa5*/0x20AF, /*0xa6*/0x00A6, /*0xa7*/0x00A7,
	/*0xa8*/0x00A8, /*0xa9*/0x00A9, /*0xaa*/0x037A, /*0xab*/0x00AB, /*0xac*/0x00AC, /*0xad*/0x00AD, /*0xae*/0x0000, /*0xaf*/0x2015,

	/*0xb0*/0x00B0, /*0xb1*/0x00B1, /*0xb2*/0x00B2, /*0xb3*/0x00B3, /*0xb4*/0x0384, /*0xb5*/0x0385, /*0xb6*/0x0386, /*0xb7*/0x00B7,
	/*0xb8*/0x0388, /*0xb9*/0x0389, /*0xba*/0x038A, /*0xbb*/0x00BB, /*0xbc*/0x038C, /*0xbd*/0x00BD, /*0xbe*/0x038E, /*0xbf*/0x038F,

	/*0xc0*/0x0390, /*0xc1*/0x0391, /*0xc2*/0x0392, /*0xc3*/0x0393, /*0xc4*/0x0394, /*0xc5*/0x0395, /*0xc6*/0x0396, /*0xc7*/0x0397,
	/*0xc8*/0x0398, /*0xc9*/0x0399, /*0xca*/0x039A, /*0xcb*/0x039B, /*0xcc*/0x039C, /*0xcd*/0x039D, /*0xce*/0x039E, /*0xcf*/0x039F,

	/*0xd0*/0x03A0, /*0xd1*/0x03A1, /*0xd2*/0x0000, /*0xd3*/0x03A3, /*0xd4*/0x03A4, /*0xd5*/0x03A5, /*0xd6*/0x03A6, /*0xd7*/0x03A7,
	/*0xd8*/0x03A8, /*0xd9*/0x03A9, /*0xda*/0x03AA, /*0xdb*/0x03AB, /*0xdc*/0x03AC, /*0xdd*/0x03AD, /*0xde*/0x03AE, /*0xdf*/0x03AF,

	/*0xe0*/0x03B0, /*0xe1*/0x03B1, /*0xe2*/0x03B2, /*0xe3*/0x03B3, /*0xe4*/0x03B4, /*0xe5*/0x03B5, /*0xe6*/0x03B6, /*0xe7*/0x03B7,
	/*0xe8*/0x03B8, /*0xe9*/0x03B9, /*0xea*/0x03BA, /*0xeb*/0x03BB, /*0xec*/0x03BC, /*0xed*/0x03BD, /*0xee*/0x03BE, /*0xef*/0x03BF,

	/*0xf0*/0x03C0, /*0xf1*/0x03C1, /*0xf2*/0x03C2, /*0xf3*/0x03C3, /*0xf4*/0x03C4, /*0xf5*/0x03C5, /*0xf6*/0x03C6, /*0xf7*/0x03C7,
	/*0xf8*/0x03C8, /*0xf9*/0x03C9, /*0xfa*/0x03CA, /*0xfb*/0x03CB, /*0xfc*/0x03CC, /*0xfd*/0x03CD, /*0xfe*/0x03CE, /*0xff*/0x0000
};

/*
 * ucs2 <-> iso-8859-8
 *
 * ISO/IEC 8859-8 support languages below:
 * Hebrew.
 *
 * For more information, please visit: https://en.wikipedia.org/wiki/ISO/IEC_8859-8
 */
#if 0	/* language(s) which using this charset have not be needed yet */
static U16 ucs2_to_iso_8859_8_map[96] =
{
	/*0xa0*/0x00A0, /*0xa1*/0x0000, /*0xa2*/0x00A2, /*0xa3*/0x00A3, /*0xa4*/0x00A4, /*0xa5*/0x00A5, /*0xa6*/0x00A6, /*0xa7*/0x00A7,
	/*0xa8*/0x00A8, /*0xa9*/0x00A9, /*0xaa*/0x00D7, /*0xab*/0x00AB, /*0xac*/0x00AC, /*0xad*/0x00AD, /*0xae*/0x00AE, /*0xaf*/0x00AF,

	/*0xb0*/0x00B0, /*0xb1*/0x00B1, /*0xb2*/0x00B2, /*0xb3*/0x00B3, /*0xb4*/0x00B4, /*0xb5*/0x00B5, /*0xb6*/0x00B6, /*0xb7*/0x00B7,
	/*0xb8*/0x00B8, /*0xb9*/0x00B9, /*0xba*/0x00F7, /*0xbb*/0x00BB, /*0xbc*/0x00BC, /*0xbd*/0x00BD, /*0xbe*/0x00BE, /*0xbf*/0x0000,

	/*0xc0*/0x0000, /*0xc1*/0x0000, /*0xc2*/0x0000, /*0xc3*/0x0000, /*0xc4*/0x0000, /*0xc5*/0x0000, /*0xc6*/0x0000, /*0xc7*/0x0000,
	/*0xc8*/0x0000, /*0xc9*/0x0000, /*0xca*/0x0000, /*0xcb*/0x0000, /*0xcc*/0x0000, /*0xcd*/0x0000, /*0xce*/0x0000, /*0xcf*/0x0000,

	/*0xd0*/0x0000, /*0xd1*/0x0000, /*0xd2*/0x0000, /*0xd3*/0x0000, /*0xd4*/0x0000, /*0xd5*/0x0000, /*0xd6*/0x0000, /*0xd7*/0x0000,
	/*0xd8*/0x0000, /*0xd9*/0x0000, /*0xda*/0x0000, /*0xdb*/0x0000, /*0xdc*/0x0000, /*0xdd*/0x0000, /*0xde*/0x0000, /*0xdf*/0x2017,

	/*0xe0*/0x05D0, /*0xe1*/0x05D1, /*0xe2*/0x05D2, /*0xe3*/0x05D3, /*0xe4*/0x05D4, /*0xe5*/0x05D5, /*0xe6*/0x05D6, /*0xe7*/0x05D7,
	/*0xe8*/0x05D8, /*0xe9*/0x05D9, /*0xea*/0x05DA, /*0xeb*/0x05DB, /*0xec*/0x05DC, /*0xed*/0x05DD, /*0xee*/0x05DE, /*0xef*/0x05DF,

	/*0xf0*/0x05E0, /*0xf1*/0x05E1, /*0xf2*/0x05E2, /*0xf3*/0x05E3, /*0xf4*/0x05E4, /*0xf5*/0x05E5, /*0xf6*/0x05E6, /*0xf7*/0x05E7,
	/*0xf8*/0x05E8, /*0xf9*/0x05E9, /*0xfa*/0x05EA, /*0xfb*/0x0000, /*0xfc*/0x0000, /*0xfd*/0x200E, /*0xfe*/0x200F, /*0xff*/0x0000
};
#endif

/*
 * ucs2 <-> iso-8859-9
 *
 * ISO/IEC 8859-9 support languages below:
 * Turkish.
 *
 * There are only 6 places different with iso-8859-1
 *
 * For more information, please visit: https://en.wikipedia.org/wiki/ISO/IEC_8859-9
 */
#if 0	/* similar with iso-8859-1 */
static U16 ucs2_to_iso_8859_9_map[96] =
{
	/*0xa0*/0x00A0, /*0xa1*/0x00A1, /*0xa2*/0x00A2, /*0xa3*/0x00A3, /*0xa4*/0x00A4, /*0xa5*/0x00A5, /*0xa6*/0x00A6, /*0xa7*/0x00A7,
	/*0xa8*/0x00A8, /*0xa9*/0x00A9, /*0xaa*/0x00AA, /*0xab*/0x00AB, /*0xac*/0x00AC, /*0xad*/0x00AD, /*0xae*/0x00AE, /*0xaf*/0x00AF,

	/*0xb0*/0x00B0, /*0xb1*/0x00B1, /*0xb2*/0x00B2, /*0xb3*/0x00B3, /*0xb4*/0x00B4, /*0xb5*/0x00B5, /*0xb6*/0x00B6, /*0xb7*/0x00B7,
	/*0xb8*/0x00B8, /*0xb9*/0x00B9, /*0xba*/0x00BA, /*0xbb*/0x00BB, /*0xbc*/0x00BC, /*0xbd*/0x00BD, /*0xbe*/0x00BE, /*0xbf*/0x00BF,

	/*0xc0*/0x00C0, /*0xc1*/0x00C1, /*0xc2*/0x00C2, /*0xc3*/0x00C3, /*0xc4*/0x00C4, /*0xc5*/0x00C5, /*0xc6*/0x00C6, /*0xc7*/0x00C7,
	/*0xc8*/0x00C8, /*0xc9*/0x00C9, /*0xca*/0x00CA, /*0xcb*/0x00CB, /*0xcc*/0x00CC, /*0xcd*/0x00CD, /*0xce*/0x00CE, /*0xcf*/0x00CF,

	/*0xd0*/0x011E, /*0xd1*/0x00D1, /*0xd2*/0x00D2, /*0xd3*/0x00D3, /*0xd4*/0x00D4, /*0xd5*/0x00D5, /*0xd6*/0x00D6, /*0xd7*/0x00D7,
	/*0xd8*/0x00D8, /*0xd9*/0x00D9, /*0xda*/0x00DA, /*0xdb*/0x00DB, /*0xdc*/0x00DC, /*0xdd*/0x0130, /*0xde*/0x015E, /*0xdf*/0x00DF,

	/*0xe0*/0x00E0, /*0xe1*/0x00E1, /*0xe2*/0x00E2, /*0xe3*/0x00E3, /*0xe4*/0x00E4, /*0xe5*/0x00E5, /*0xe6*/0x00E6, /*0xe7*/0x00E7,
	/*0xe8*/0x00E8, /*0xe9*/0x00E9, /*0xea*/0x00EA, /*0xeb*/0x00EB, /*0xec*/0x00EC, /*0xed*/0x00ED, /*0xee*/0x00EE, /*0xef*/0x00EF,

	/*0xf0*/0x011F, /*0xf1*/0x00F1, /*0xf2*/0x00F2, /*0xf3*/0x00F3, /*0xf4*/0x00F4, /*0xf5*/0x00F5, /*0xf6*/0x00F6, /*0xf7*/0x00F7,
	/*0xf8*/0x00F8, /*0xf9*/0x00F9, /*0xfa*/0x00FA, /*0xfb*/0x00FB, /*0xfc*/0x00FC, /*0xfd*/0x0131, /*0xfe*/0x015F, /*0xff*/0x00FF
};
#endif

/*
 * ucs2 <-> iso-8859-10
 *
 * ISO/IEC 8859-10 used to instead of ISO/IEC 8859-4
 * See ISO/IEC 8859-4 to get language support information.
 *
 * For more information, please visit: https://en.wikipedia.org/wiki/ISO/IEC_8859-10
 */
static U16 ucs2_to_iso_8859_10_map[96] =
{
	/*0xa0*/0x00A0, /*0xa1*/0x0104, /*0xa2*/0x0112, /*0xa3*/0x0122, /*0xa4*/0x012A, /*0xa5*/0x0128, /*0xa6*/0x0136, /*0xa7*/0x00A7,
	/*0xa8*/0x013B, /*0xa9*/0x0110, /*0xaa*/0x0160, /*0xab*/0x0166, /*0xac*/0x017D, /*0xad*/0x00AD, /*0xae*/0x016A, /*0xaf*/0x014A,

	/*0xb0*/0x00B0, /*0xb1*/0x0105, /*0xb2*/0x0113, /*0xb3*/0x0123, /*0xb4*/0x012B, /*0xb5*/0x0129, /*0xb6*/0x0137, /*0xb7*/0x00B7,
	/*0xb8*/0x013C, /*0xb9*/0x0111, /*0xba*/0x0161, /*0xbb*/0x0167, /*0xbc*/0x017E, /*0xbd*/0x2015, /*0xbe*/0x016B, /*0xbf*/0x014B,

	/*0xc0*/0x0100, /*0xc1*/0x00C1, /*0xc2*/0x00C2, /*0xc3*/0x00C3, /*0xc4*/0x00C4, /*0xc5*/0x00C5, /*0xc6*/0x00C6, /*0xc7*/0x012E,
	/*0xc8*/0x010C, /*0xc9*/0x00C9, /*0xca*/0x0118, /*0xcb*/0x00CB, /*0xcc*/0x0116, /*0xcd*/0x00CD, /*0xce*/0x00CE, /*0xcf*/0x00CF,

	/*0xd0*/0x00D0, /*0xd1*/0x0145, /*0xd2*/0x014C, /*0xd3*/0x00D3, /*0xd4*/0x00D4, /*0xd5*/0x00D5, /*0xd6*/0x00D6, /*0xd7*/0x0168,
	/*0xd8*/0x00D8, /*0xd9*/0x0172, /*0xda*/0x00DA, /*0xdb*/0x00DB, /*0xdc*/0x00DC, /*0xdd*/0x00DD, /*0xde*/0x00DE, /*0xdf*/0x00DF,

	/*0xe0*/0x0101, /*0xe1*/0x00E1, /*0xe2*/0x00E2, /*0xe3*/0x00E3, /*0xe4*/0x00E4, /*0xe5*/0x00E5, /*0xe6*/0x00E6, /*0xe7*/0x012F,
	/*0xe8*/0x010D, /*0xe9*/0x00E9, /*0xea*/0x0119, /*0xeb*/0x00EB, /*0xec*/0x0117, /*0xed*/0x00ED, /*0xee*/0x00EE, /*0xef*/0x00EF,

	/*0xf0*/0x00F0, /*0xf1*/0x0146, /*0xf2*/0x014D, /*0xf3*/0x00F3, /*0xf4*/0x00F4, /*0xf5*/0x00F5, /*0xf6*/0x00F6, /*0xf7*/0x0169,
	/*0xf8*/0x00F8, /*0xf9*/0x0173, /*0xfa*/0x00FA, /*0xfb*/0x00FB, /*0xfc*/0x00FC, /*0xfd*/0x00FD, /*0xfe*/0x00FE, /*0xff*/0x0138
};

/*
 * ucs2 <-> iso-8859-11
 *
 * ISO/IEC 8859-11 is a subset of windows-874, support languages below:
 * Thai.
 *
 * For more information, please visit: https://en.wikipedia.org/wiki/ISO/IEC_8859-11
 */
#if 0	/* use windows-874 */
static U16 ucs2_to_iso_8859_11_map[96] =
{
	/*0xa0*/0x00A0, /*0xa1*/0x0E01, /*0xa2*/0x0E02, /*0xa3*/0x0E03, /*0xa4*/0x0E04, /*0xa5*/0x0E05, /*0xa6*/0x0E06, /*0xa7*/0x0E07,
	/*0xa8*/0x0E08, /*0xa9*/0x0E09, /*0xaa*/0x0E0A, /*0xab*/0x0E0B, /*0xac*/0x0E0C, /*0xad*/0x0E0D, /*0xae*/0x0E0E, /*0xaf*/0x0E0F,

	/*0xb0*/0x0E10, /*0xb1*/0x0E11, /*0xb2*/0x0E12, /*0xb3*/0x0E13, /*0xb4*/0x0E14, /*0xb5*/0x0E15, /*0xb6*/0x0E16, /*0xb7*/0x0E17,
	/*0xb8*/0x0E18, /*0xb9*/0x0E19, /*0xba*/0x0E1A, /*0xbb*/0x0E1B, /*0xbc*/0x0E1C, /*0xbd*/0x0E1D, /*0xbe*/0x0E1E, /*0xbf*/0x0E1F,

	/*0xc0*/0x0E20, /*0xc1*/0x0E21, /*0xc2*/0x0E22, /*0xc3*/0x0E23, /*0xc4*/0x0E24, /*0xc5*/0x0E25, /*0xc6*/0x0E26, /*0xc7*/0x0E27,
	/*0xc8*/0x0E28, /*0xc9*/0x0E29, /*0xca*/0x0E2A, /*0xcb*/0x0E2B, /*0xcc*/0x0E2C, /*0xcd*/0x0E2D, /*0xce*/0x0E2E, /*0xcf*/0x0E2F,

	/*0xd0*/0x0E30, /*0xd1*/0x0E31, /*0xd2*/0x0E32, /*0xd3*/0x0E33, /*0xd4*/0x0E34, /*0xd5*/0x0E35, /*0xd6*/0x0E36, /*0xd7*/0x0E37,
	/*0xd8*/0x0E38, /*0xd9*/0x0E39, /*0xda*/0x0E3A, /*0xdb*/0x0000, /*0xdc*/0x0000, /*0xdd*/0x0000, /*0xde*/0x0000, /*0xdf*/0x0E3F,

	/*0xe0*/0x0E40, /*0xe1*/0x0E41, /*0xe2*/0x0E42, /*0xe3*/0x0E43, /*0xe4*/0x0E44, /*0xe5*/0x0E45, /*0xe6*/0x0E46, /*0xe7*/0x0E47,
	/*0xe8*/0x0E48, /*0xe9*/0x0E49, /*0xea*/0x0E4A, /*0xeb*/0x0E4B, /*0xec*/0x0E4C, /*0xed*/0x0E4D, /*0xee*/0x0E4E, /*0xef*/0x0E4F,

	/*0xf0*/0x0E50, /*0xf1*/0x0E51, /*0xf2*/0x0E52, /*0xf3*/0x0E53, /*0xf4*/0x0E54, /*0xf5*/0x0E55, /*0xf6*/0x0E56, /*0xf7*/0x0E57,
	/*0xf8*/0x0E58, /*0xf9*/0x0E59, /*0xfa*/0x0E5A, /*0xfb*/0x0E5B, /*0xfc*/0x0000, /*0xfd*/0x0000, /*0xfe*/0x0000, /*0xff*/0x0000
};
#endif

/*
 * ucs2 <-> iso-8859-12
 *
 * Abandoned.
 *
 * For more information, please visit: https://en.wikipedia.org/wiki/ISO/IEC_8859-12
 */
#if 0	/* abandoned */
static U16 ucs2_to_iso_8859_12_map[96] =
{
};
#endif

/*
 * ucs2 <-> iso-8859-13
 *
 * Prefer to use this charset to support Baltic languages, such as:
 * Lithuanian, Latvian.
 *
 * For more information, please visit: https://en.wikipedia.org/wiki/ISO/IEC_8859-13
 */
static U16 ucs2_to_iso_8859_13_map[96] =
{
	/*0xa0*/0x00A0, /*0xa1*/0x201D, /*0xa2*/0x00A2, /*0xa3*/0x00A3, /*0xa4*/0x00A4, /*0xa5*/0x201E, /*0xa6*/0x00A6, /*0xa7*/0x00A7,
	/*0xa8*/0x00D8, /*0xa9*/0x00A9, /*0xaa*/0x0156, /*0xab*/0x00AB, /*0xac*/0x00AC, /*0xad*/0x00AD, /*0xae*/0x00AE, /*0xaf*/0x00C6,

	/*0xb0*/0x00B0, /*0xb1*/0x00B1, /*0xb2*/0x00B2, /*0xb3*/0x00B3, /*0xb4*/0x201C, /*0xb5*/0x00B5, /*0xb6*/0x00B6, /*0xb7*/0x00B7,
	/*0xb8*/0x00F8, /*0xb9*/0x00B9, /*0xba*/0x0157, /*0xbb*/0x00BB, /*0xbc*/0x00BC, /*0xbd*/0x00BD, /*0xbe*/0x00BE, /*0xbf*/0x00E6,

	/*0xc0*/0x0104, /*0xc1*/0x012E, /*0xc2*/0x0100, /*0xc3*/0x0106, /*0xc4*/0x00C4, /*0xc5*/0x00C5, /*0xc6*/0x0118, /*0xc7*/0x0112,
	/*0xc8*/0x010C, /*0xc9*/0x00C9, /*0xca*/0x0179, /*0xcb*/0x0116, /*0xcc*/0x0122, /*0xcd*/0x0136, /*0xce*/0x012A, /*0xcf*/0x013B,

	/*0xd0*/0x0160, /*0xd1*/0x0143, /*0xd2*/0x0145, /*0xd3*/0x00D3, /*0xd4*/0x014C, /*0xd5*/0x00D5, /*0xd6*/0x00D6, /*0xd7*/0x00D7,
	/*0xd8*/0x0172, /*0xd9*/0x0141, /*0xda*/0x015A, /*0xdb*/0x016A, /*0xdc*/0x00DC, /*0xdd*/0x017B, /*0xde*/0x017D, /*0xdf*/0x00DF,

	/*0xe0*/0x0105, /*0xe1*/0x012F, /*0xe2*/0x0101, /*0xe3*/0x0107, /*0xe4*/0x00E4, /*0xe5*/0x00E5, /*0xe6*/0x0119, /*0xe7*/0x0113,
	/*0xe8*/0x010D, /*0xe9*/0x00E9, /*0xea*/0x017A, /*0xeb*/0x0117, /*0xec*/0x0123, /*0xed*/0x0137, /*0xee*/0x012B, /*0xef*/0x013C,

	/*0xf0*/0x0161, /*0xf1*/0x0144, /*0xf2*/0x0146, /*0xf3*/0x00F3, /*0xf4*/0x014D, /*0xf5*/0x00F5, /*0xf6*/0x00F6, /*0xf7*/0x00F7,
	/*0xf8*/0x0173, /*0xf9*/0x0142, /*0xfa*/0x015B, /*0xfb*/0x016B, /*0xfc*/0x00FC, /*0xfd*/0x017C, /*0xfe*/0x017E, /*0xff*/0x2019
};

/*
 * ucs2 <-> iso-8859-14
 *
 * ISO/IEC 8859-14 used to support Celtic languages, such as:
 * Irish, Manx, Scottish Gaelic, Welsh, Cornish, Breton.
 *
 * For more information, please visit: https://en.wikipedia.org/wiki/ISO/IEC_8859-14
 */
#if 0	/* language(s) which using this charset have not be needed yet */
static U16 ucs2_to_iso_8859_14_map[96] =
{
	/*0xa0*/0x00A0, /*0xa1*/0x1E02, /*0xa2*/0x1E03, /*0xa3*/0x00A3, /*0xa4*/0x010A, /*0xa5*/0x010B, /*0xa6*/0x1E0A, /*0xa7*/0x00A7,
	/*0xa8*/0x1E80, /*0xa9*/0x00A9, /*0xaa*/0x1E82, /*0xab*/0x1E0B, /*0xac*/0x1EF2, /*0xad*/0x00AD, /*0xae*/0x00AE, /*0xaf*/0x0178,

	/*0xb0*/0x1E1E, /*0xb1*/0x1E1F, /*0xb2*/0x0120, /*0xb3*/0x0121, /*0xb4*/0x1E40, /*0xb5*/0x1E41, /*0xb6*/0x00B6, /*0xb7*/0x1E56,
	/*0xb8*/0x1E81, /*0xb9*/0x1E57, /*0xba*/0x1E83, /*0xbb*/0x1E60, /*0xbc*/0x1EF3, /*0xbd*/0x1E84, /*0xbe*/0x1E85, /*0xbf*/0x1E61,

	/*0xc0*/0x00C0, /*0xc1*/0x00C1, /*0xc2*/0x00C2, /*0xc3*/0x00C3, /*0xc4*/0x00C4, /*0xc5*/0x00C5, /*0xc6*/0x00C6, /*0xc7*/0x00C7,
	/*0xc8*/0x00C8, /*0xc9*/0x00C9, /*0xca*/0x00CA, /*0xcb*/0x00CB, /*0xcc*/0x00CC, /*0xcd*/0x00CD, /*0xce*/0x00CE, /*0xcf*/0x00CF,

	/*0xd0*/0x0174, /*0xd1*/0x00D1, /*0xd2*/0x00D2, /*0xd3*/0x00D3, /*0xd4*/0x00D4, /*0xd5*/0x00D5, /*0xd6*/0x00D6, /*0xd7*/0x1E6A,
	/*0xd8*/0x00D8, /*0xd9*/0x00D9, /*0xda*/0x00DA, /*0xdb*/0x00DB, /*0xdc*/0x00DC, /*0xdd*/0x00DD, /*0xde*/0x0176, /*0xdf*/0x00DF,

	/*0xe0*/0x00E0, /*0xe1*/0x00E1, /*0xe2*/0x00E2, /*0xe3*/0x00E3, /*0xe4*/0x00E4, /*0xe5*/0x00E5, /*0xe6*/0x00E6, /*0xe7*/0x00E7,
	/*0xe8*/0x00E8, /*0xe9*/0x00E9, /*0xea*/0x00EA, /*0xeb*/0x00EB, /*0xec*/0x00EC, /*0xed*/0x00ED, /*0xee*/0x00EE, /*0xef*/0x00EF,

	/*0xf0*/0x0175, /*0xf1*/0x00F1, /*0xf2*/0x00F2, /*0xf3*/0x00F3, /*0xf4*/0x00F4, /*0xf5*/0x00F5, /*0xf6*/0x00F6, /*0xf7*/0x1E6B,
	/*0xf8*/0x00F8, /*0xf9*/0x00F9, /*0xfa*/0x00FA, /*0xfb*/0x00FB, /*0xfc*/0x00FC, /*0xfd*/0x00FD, /*0xfe*/0x0177, /*0xff*/0x00FF
};
#endif

/*
 * ucs2 <-> iso-8859-15
 *
 * ISO/IEC 8859-15 is similar with iso-8859-1, replaces some less common symbols with the euro sign
 * and some letters that were now deemed missing in iso-8859-1.
 *
 * There are only 8 places different with iso-8859-1
 *
 * For more information, please visit: https://en.wikipedia.org/wiki/ISO/IEC_8859-15
 */
#if 0	/* similar with iso-8859-1 */
static U16 ucs2_to_iso_8859_15_map[96] =
{
	/*0xa0*/0x00A0, /*0xa1*/0x00A1, /*0xa2*/0x00A2, /*0xa3*/0x00A3, /*0xa4*/0x20AC, /*0xa5*/0x00A5, /*0xa6*/0x0160, /*0xa7*/0x00A7,
	/*0xa8*/0x0161, /*0xa9*/0x00A9, /*0xaa*/0x00AA, /*0xab*/0x00AB, /*0xac*/0x00AC, /*0xad*/0x00AD, /*0xae*/0x00AE, /*0xaf*/0x00AF,

	/*0xb0*/0x00B0, /*0xb1*/0x00B1, /*0xb2*/0x00B2, /*0xb3*/0x00B3, /*0xb4*/0x017D, /*0xb5*/0x00B5, /*0xb6*/0x00B6, /*0xb7*/0x00B7,
	/*0xb8*/0x017E, /*0xb9*/0x00B9, /*0xba*/0x00BA, /*0xbb*/0x00BB, /*0xbc*/0x0152, /*0xbd*/0x0153, /*0xbe*/0x0178, /*0xbf*/0x00BF,

	/*0xc0*/0x00C0, /*0xc1*/0x00C1, /*0xc2*/0x00C2, /*0xc3*/0x00C3, /*0xc4*/0x00C4, /*0xc5*/0x00C5, /*0xc6*/0x00C6, /*0xc7*/0x00C7,
	/*0xc8*/0x00C8, /*0xc9*/0x00C9, /*0xca*/0x00CA, /*0xcb*/0x00CB, /*0xcc*/0x00CC, /*0xcd*/0x00CD, /*0xce*/0x00CE, /*0xcf*/0x00CF,

	/*0xd0*/0x00D0, /*0xd1*/0x00D1, /*0xd2*/0x00D2, /*0xd3*/0x00D3, /*0xd4*/0x00D4, /*0xd5*/0x00D5, /*0xd6*/0x00D6, /*0xd7*/0x00D7,
	/*0xd8*/0x00D8, /*0xd9*/0x00D9, /*0xda*/0x00DA, /*0xdb*/0x00DB, /*0xdc*/0x00DC, /*0xdd*/0x00DD, /*0xde*/0x00DE, /*0xdf*/0x00DF,

	/*0xe0*/0x00E0, /*0xe1*/0x00E1, /*0xe2*/0x00E2, /*0xe3*/0x00E3, /*0xe4*/0x00E4, /*0xe5*/0x00E5, /*0xe6*/0x00E6, /*0xe7*/0x00E7,
	/*0xe8*/0x00E8, /*0xe9*/0x00E9, /*0xea*/0x00EA, /*0xeb*/0x00EB, /*0xec*/0x00EC, /*0xed*/0x00ED, /*0xee*/0x00EE, /*0xef*/0x00EF,

	/*0xf0*/0x00F0, /*0xf1*/0x00F1, /*0xf2*/0x00F2, /*0xf3*/0x00F3, /*0xf4*/0x00F4, /*0xf5*/0x00F5, /*0xf6*/0x00F6, /*0xf7*/0x00F7,
	/*0xf8*/0x00F8, /*0xf9*/0x00F9, /*0xfa*/0x00FA, /*0xfb*/0x00FB, /*0xfc*/0x00FC, /*0xfd*/0x00FD, /*0xfe*/0x00FE, /*0xff*/0x00FF
};
#endif



/*********************************************************************************************************************************
 *                                                         ISO/IEC-6937                                                          *
 *********************************************************************************************************************************/
typedef struct _iso_6937_combine_map_
{
	U8 second_char;
	U16 result;		/* it is a ucs2 code */
} Iso6937CombineMap;

typedef struct _iso_6937_combine_
{
	U8 code;
	U8 item_num;
	Iso6937CombineMap *items;
} Iso6937Combine;

/*
 * iso-6937 -> ucs2
 *
 * ISO/IEC 6937:2001 is a multibyte extension of ASCII.
 * It defines 327 characters found in modern European languages using the Latin alphabet
 *
 * For more information, please visit: https://en.wikipedia.org/wiki/ISO/IEC_6937
 */
static U16 ucs2_to_iso_6937_map[96] =
{
	/*0xa0*/0x00A0, /*0xa1*/0x00A1, /*0xa2*/0x00A2, /*0xa3*/0x00A3, /*0xa4*/0x20AC, /*0xa5*/0x00A5, /*0xa6*/0x0000, /*0xa7*/0x00A7,
	/*0xa8*/0x00A4, /*0xa9*/0x2018, /*0xaa*/0x201C, /*0xab*/0x00AB, /*0xac*/0x2190, /*0xad*/0x2191, /*0xae*/0x2192, /*0xaf*/0x2193,

	/*0xb0*/0x00B0, /*0xb1*/0x00B1, /*0xb2*/0x00B2, /*0xb3*/0x00B3, /*0xb4*/0x00D7, /*0xb5*/0x00B5, /*0xb6*/0x00B6, /*0xb7*/0x00B7,
	/*0xb8*/0x00F7, /*0xb9*/0x2019, /*0xba*/0x201D, /*0xbb*/0x00BB, /*0xbc*/0x00BC, /*0xbd*/0x00BD, /*0xbe*/0x00BE, /*0xbf*/0x00BF,

	/*0xc0*/0x0000, /*0xc1*/0x0300, /*0xc2*/0x0301, /*0xc3*/0x0302, /*0xc4*/0x0303, /*0xc5*/0x0304, /*0xc6*/0x0306, /*0xc7*/0x0307,
	/*0xc8*/0x0308, /*0xc9*/0x0000, /*0xca*/0x030A, /*0xcb*/0x0327, /*0xcc*/0x0000, /*0xcd*/0x030B, /*0xce*/0x0328, /*0xcf*/0x030C,

	/*0xd0*/0x2015, /*0xd1*/0x00B9, /*0xd2*/0x00AE, /*0xd3*/0x00A9, /*0xd4*/0x2122, /*0xd5*/0x266A, /*0xd6*/0x00AC, /*0xd7*/0x00A6,
	/*0xd8*/0x0000, /*0xd9*/0x0000, /*0xda*/0x0000, /*0xdb*/0x0000, /*0xdc*/0x215B, /*0xdd*/0x215C, /*0xde*/0x215D, /*0xdf*/0x215E,

	/*0xe0*/0x2126, /*0xe1*/0x00C6, /*0xe2*/0x0110, /*0xe3*/0x00AA, /*0xe4*/0x0126, /*0xe5*/0x0000, /*0xe6*/0x0132, /*0xe7*/0x013F,
	/*0xe8*/0x0141, /*0xe9*/0x00D8, /*0xea*/0x0152, /*0xeb*/0x00BA, /*0xec*/0x00DE, /*0xed*/0x0166, /*0xee*/0x014A, /*0xef*/0x0149,

	/*0xf0*/0x0138, /*0xf1*/0x00E6, /*0xf2*/0x0111, /*0xf3*/0x00F0, /*0xf4*/0x0127, /*0xf5*/0x0131, /*0xf6*/0x0133, /*0xf7*/0x0140,
	/*0xf8*/0x0142, /*0xf9*/0x00F8, /*0xfa*/0x0153, /*0xfb*/0x00DF, /*0xfc*/0x00FE, /*0xfd*/0x0167, /*0xfe*/0x014B, /*0xff*/0x00AD
};

/* Grave */
static Iso6937CombineMap iso_6937_c1_map[] =
{
	{'A', /*À*/0x00C0}, {'E', /*È*/0x00C8}, {'I', /*Ì*/0x00CC}, {'O', /*Ò*/0x00D2}, {'U', /*Ù*/0x00D9}, {'a', /*à*/0x00E0},
	{'e', /*è*/0x00E8}, {'i', /*ì*/0x00EC}, {'o', /*ò*/0x00F2}, {'u', /*ù*/0x00F9}
};

/* Acute */
static Iso6937CombineMap iso_6937_c2_map[] =
{
	{'A', /*Á*/0x00C1}, {'C', /*Ć*/0x0106}, {'E', /*É*/0x00C9}, {'I', /*Í*/0x00CD}, {'L', /*Ĺ*/0x0139}, {'N', /*Ń*/0x0143},
	{'O', /*Ó*/0x00D3}, {'R', /*Ŕ*/0x0154}, {'S', /*Ś*/0x015A}, {'U', /*Ú*/0x00DA}, {'Y', /*Ý*/0x00DD}, {'Z', /*Ź*/0x0179},
	{'a', /*á*/0x00E1}, {'c', /*ć*/0x0107}, {'e', /*é*/0x00E9}, {'g', /*ģ*/0x0123}, {'i', /*í*/0x00ED}, {'l', /*ĺ*/0x013A},
	{'n', /*ń*/0x0144}, {'o', /*ó*/0x00F3}, {'r', /*ŕ*/0x0155}, {'s', /*ś*/0x015B}, {'u', /*ú*/0x00FA}, {'y', /*ý*/0x00FD},
	{'z', /*ź*/0x017A}
};

/* Circumflex */
static Iso6937CombineMap iso_6937_c3_map[] =
{
	{'A', /*Â*/0x00C2}, {'C', /*Ĉ*/0x0108}, {'E', /*Ê*/0x00CA}, {'G', /*Ĝ*/0x011C}, {'H', /*Ĥ*/0x0124}, {'I', /*Î*/0x00CE},
	{'J', /*Ĵ*/0x0134}, {'O', /*Ô*/0x00D4}, {'S', /*Ŝ*/0x015C}, {'U', /*Û*/0x00DB}, {'W', /*Ŵ*/0x0174}, {'Y', /*Ŷ*/0x0176},
	{'a', /*â*/0x00E2}, {'c', /*ĉ*/0x0109}, {'e', /*ê*/0x00EA}, {'g', /*ĝ*/0x011D}, {'h', /*ĥ*/0x0125}, {'i', /*î*/0x00EE},
	{'j', /*ĵ*/0x0135}, {'o', /*ô*/0x00F4}, {'s', /*ŝ*/0x015D}, {'u', /*û*/0x00FB}, {'w', /*ŵ*/0x0175}, {'y', /*ŷ*/0x0177}
};

/* Tilde */
static Iso6937CombineMap iso_6937_c4_map[] =
{
	{'A', /*Ã*/0x00C3}, {'I', /*Ĩ*/0x0128}, {'N', /*Ñ*/0x00D1}, {'O', /*Õ*/0x00D5}, {'U', /*Ũ*/0x0168}, {'a', /*ã*/0x00E3},
	{'i', /*ĩ*/0x0129}, {'n', /*ñ*/0x00F1}, {'o', /*õ*/0x00F5}, {'u', /*ũ*/0x0169}
};

/* Macron */
static Iso6937CombineMap iso_6937_c5_map[] =
{
	{'A', /*Ā*/0x0100}, {'E', /*Ē*/0x0112}, {'I', /*Ī*/0x012A}, {'O', /*Ō*/0x014C}, {'U', /*Ū*/0x016A}, {'a', /*ā*/0x0101},
	{'e', /*ē*/0x0113}, {'i', /*ī*/0x012B}, {'o', /*ō*/0x014D}, {'u', /*ū*/0x016B}
};

/* Breve */
static Iso6937CombineMap iso_6937_c6_map[] =
{
	{'A', /*Ă*/0x0102}, {'G', /*Ğ*/0x011E}, {'U', /*Ŭ*/0x016C}, {'a', /*ă*/0x0103}, {'g', /*ğ*/0x011F}, {'u', /*ŭ*/0x016D}
};

/* Dot */
static Iso6937CombineMap iso_6937_c7_map[] =
{
	{'C', /*Ċ*/0x010A}, {'E', /*Ė*/0x0116}, {'G', /*Ġ*/0x0120}, {'I', /*İ*/0x0130}, {'Z', /*Ż*/0x017B}, {'c', /*ċ*/0x010B},
	{'e', /*ė*/0x0117}, {'g', /*ġ*/0x0121}, {'z', /*ż*/0x017C}
};

/* Umlaut or diæresis */
static Iso6937CombineMap iso_6937_c8_map[] =
{
	{'A', /*Ä*/0x00C4}, {'E', /*Ë*/0x00CB}, {'I', /*Ï*/0x00CF}, {'O', /*Ö*/0x00D6}, {'U', /*Ü*/0x00DC}, {'Y', /*Ÿ*/0x0178},
	{'a', /*ä*/0x00E4}, {'e', /*ë*/0x00EB}, {'i', /*ï*/0x00EF}, {'o', /*ö*/0x00F6}, {'u', /*ü*/0x00FC}, {'y', /*ÿ*/0x00FF}
};

/* Ring */
static Iso6937CombineMap iso_6937_ca_map[] =
{
	{'A', /*Å*/0x00C5}, {'U', /*Ů*/0x016E}, {'a', /*å*/0x00E5}, {'u', /*ů*/0x016F}
};

/* Cedilla */
static Iso6937CombineMap iso_6937_cb_map[] =
{
	{'C', /*Ç*/0x00C7}, {'G', /*Ģ*/0x0122}, {'K', /*Ķ*/0x0136}, {'L', /*Ļ*/0x013B}, {'N', /*Ņ*/0x0145}, {'R', /*Ŗ*/0x0156},
	{'S', /*Ş*/0x015E}, {'T', /*Ţ*/0x0162}, {'c', /*ç*/0x00E7}, {'k', /*ķ*/0x0137}, {'l', /*ļ*/0x013C}, {'n', /*ņ*/0x0146},
	{'r', /*ŗ*/0x0157}, {'s', /*ş*/0x015F}, {'t', /*ţ*/0x0163}
};

/* DoubleAcute */
static Iso6937CombineMap iso_6937_cd_map[] =
{
	{'O', /*Ő*/0x0150}, {'U', /*Ű*/0x0170}, {'o', /*ő*/0x0151}, {'u', /*ű*/0x0171}
};

/* Ogonek */
static Iso6937CombineMap iso_6937_ce_map[] =
{
	{'A', /*Ą*/0x0104}, {'E', /*Ę*/0x0118}, {'I', /*Į*/0x012E}, {'U', /*Ų*/0x0172}, {'a', /*ą*/0x0105}, {'e', /*ę*/0x0119},
	{'i', /*į*/0x012F}, {'u', /*ų*/0x0173}
};

/* Caron */
static Iso6937CombineMap iso_6937_cf_map[] =
{
	{'C', /*Č*/0x010C}, {'D', /*Ď*/0x010E}, {'E', /*Ě*/0x011A}, {'L', /*Ľ*/0x013D}, {'N', /*Ň*/0x0147}, {'R', /*Ř*/0x0158},
	{'S', /*Š*/0x0160}, {'T', /*Ť*/0x0164}, {'Z', /*Ž*/0x017D}, {'c', /*č*/0x010D}, {'d', /*ď*/0x010F}, {'e', /*ě*/0x011B},
	{'l', /*ľ*/0x013E}, {'n', /*ň*/0x0148}, {'r', /*ř*/0x0159}, {'s', /*š*/0x0161}, {'t', /*ť*/0x0165}, {'z', /*ž*/0x017E}
};

static Iso6937Combine iso_6937_combine_pattern[] =
{
	{0xC1, ARRAY_NUM(iso_6937_c1_map), iso_6937_c1_map},
	{0xC2, ARRAY_NUM(iso_6937_c2_map), iso_6937_c2_map},
	{0xC3, ARRAY_NUM(iso_6937_c3_map), iso_6937_c3_map},
	{0xC4, ARRAY_NUM(iso_6937_c4_map), iso_6937_c4_map},
	{0xC5, ARRAY_NUM(iso_6937_c5_map), iso_6937_c5_map},
	{0xC6, ARRAY_NUM(iso_6937_c6_map), iso_6937_c6_map},
	{0xC7, ARRAY_NUM(iso_6937_c7_map), iso_6937_c7_map},
	{0xC8, ARRAY_NUM(iso_6937_c8_map), iso_6937_c8_map},
	{0xCA, ARRAY_NUM(iso_6937_ca_map), iso_6937_ca_map},
	{0xCB, ARRAY_NUM(iso_6937_cb_map), iso_6937_cb_map},
	{0xCD, ARRAY_NUM(iso_6937_cd_map), iso_6937_cd_map},
	{0xCE, ARRAY_NUM(iso_6937_ce_map), iso_6937_ce_map},
	{0xCF, ARRAY_NUM(iso_6937_cf_map), iso_6937_cf_map},
};
/*********************************************************************************************************************************
 *                                                     ISO/IEC 8859 -> UCS2                                                      *
 *********************************************************************************************************************************/
static U16 normal_iso_char_to_ucs2(U8 iso_char, U16 *charset, int size, int offset)
{
	if (iso_char >= offset && iso_char < offset + size)
	{
		return charset[iso_char - offset];
	}
	return 0;
}

static U16 special_iso_char_to_ucs2(U8 iso_char, U8 *special_iso_charset, U16 *ucs2_set, int size)
{
	int i;

	for (i = 0; i < size; i++)
	{
		if (iso_char == special_iso_charset[i])
		{
			return ucs2_set[i];
		}
	}
	return 0;
}


static U16 iso_8859_1_to_ucs2(U8 iso_char)
{
	return normal_iso_char_to_ucs2(iso_char, ucs2_to_windows_1252_map + 32, 96, 0xA0);
}

static U16 iso_8859_2_to_ucs2(U8 iso_char)
{
	return normal_iso_char_to_ucs2(iso_char, ucs2_to_iso_8859_2_map, 96, 0xA0);
}

#if 0
static U16 iso_8859_3_to_ucs2(U8 iso_char)
{
	return normal_iso_char_to_ucs2(iso_char, ucs2_to_iso_8859_3_map, 96, 0xA0);
}

static U16 iso_8859_4_to_ucs2(U8 iso_char)
{
	return normal_iso_char_to_ucs2(iso_char, ucs2_to_iso_8859_4_map, 96, 0xA0);
}
#endif

static U16 iso_8859_5_to_ucs2(U8 iso_char)
{
	return normal_iso_char_to_ucs2(iso_char, ucs2_to_iso_8859_5_map, 96, 0xA0);
}

static U16 iso_8859_6_to_ucs2(U8 iso_char)
{
	return normal_iso_char_to_ucs2(iso_char, ucs2_to_iso_8859_6_map, 96, 0xA0);
}

static U16 iso_8859_7_to_ucs2(U8 iso_char)
{
	return normal_iso_char_to_ucs2(iso_char, ucs2_to_iso_8859_7_map, 96, 0xA0);
}

#if 0
static U16 iso_8859_8_to_ucs2(U8 iso_char)
{
	return normal_iso_char_to_ucs2(iso_char, ucs2_to_iso_8859_8_map, 96, 0xA0);
}
#endif

static U16 iso_8859_9_to_ucs2(U8 iso_char)
{
	U8 diff_with_8859_1[] = {0xD0, 0xDD, 0xDE, 0xF0, 0xFD, 0xFE};
	U16 ucs2_value[] = {0x011E, 0x0130, 0x015E, 0x011F, 0x0131, 0x015F};
	U16 ucs2_code;

	ucs2_code = special_iso_char_to_ucs2(iso_char, diff_with_8859_1, ucs2_value, ARRAY_NUM(diff_with_8859_1));
	if (ucs2_code == 0)
	{
		ucs2_code = iso_8859_1_to_ucs2(iso_char);
	}
	return ucs2_code;
}

static U16 iso_8859_10_to_ucs2(U8 iso_char)
{
	return normal_iso_char_to_ucs2(iso_char, ucs2_to_iso_8859_10_map, 96, 0xA0);
}
#if ENABLE_THAI_LANGUAGE
static U16 iso_8859_11_to_ucs2(U8 iso_char)
{
	return normal_iso_char_to_ucs2(iso_char, ucs2_to_windows_874_map + 32, 96, 0xA0);
}
#endif
static U16 iso_8859_13_to_ucs2(U8 iso_char)
{
	return normal_iso_char_to_ucs2(iso_char, ucs2_to_iso_8859_13_map, 96, 0xA0);
}

#if 0
static U16 iso_8859_14_to_ucs2(U8 iso_char)
{
	return normal_iso_char_to_ucs2(iso_char, ucs2_to_iso_8859_14_map, 96, 0xA0);
}
#endif

static U16 iso_8859_15_to_ucs2(U8 iso_char)
{
	U8 diff_with_8859_1[] = {0xA4, 0xA6, 0xA8, 0xB4, 0xB8, 0xBC, 0xBD, 0xBE};
	U16 ucs2_value[] = {0x20AC, 0x0160, 0x0161, 0x017D, 0x017E, 0x0152, 0x0153, 0x0178};
	U16 ucs2_code;

	ucs2_code = special_iso_char_to_ucs2(iso_char, diff_with_8859_1, ucs2_value, ARRAY_NUM(diff_with_8859_1));
	if (ucs2_code == 0)
	{
		ucs2_code = iso_8859_1_to_ucs2(iso_char);
	}
	return ucs2_code;
}

typedef struct _iso_8859_code_map_
{
	IsoEncoding iso_encoding;
	U16 (*iso_8859_to_ucs2_func)(U8 iso_char);
} Iso8859CodeMap;

static Iso8859CodeMap iso_8859_code_map[] =
{
	{ISO_ENCODING_8859_1,  iso_8859_1_to_ucs2},
	{ISO_ENCODING_8859_2,  iso_8859_2_to_ucs2},
#if 0
	{ISO_ENCODING_8859_3,  iso_8859_3_to_ucs2},
	{ISO_ENCODING_8859_4,  iso_8859_4_to_ucs2},
#endif
	{ISO_ENCODING_8859_5,  iso_8859_5_to_ucs2},
	{ISO_ENCODING_8859_6,  iso_8859_6_to_ucs2},
	{ISO_ENCODING_8859_7,  iso_8859_7_to_ucs2},
#if 0
	{ISO_ENCODING_8859_8,  iso_8859_8_to_ucs2},
#endif
	{ISO_ENCODING_8859_9,  iso_8859_9_to_ucs2},
	{ISO_ENCODING_8859_10, iso_8859_10_to_ucs2},
#if ENABLE_THAI_LANGUAGE
	{ISO_ENCODING_8859_11, iso_8859_11_to_ucs2},
#endif
	{ISO_ENCODING_8859_13, iso_8859_13_to_ucs2},
#if 0
	{ISO_ENCODING_8859_14, iso_8859_14_to_ucs2},
#endif
	{ISO_ENCODING_8859_15, iso_8859_15_to_ucs2},
};


BOOL is_iso_encoding(U32 encoding)
{
	return encoding > 0 && encoding < ISO_ENCODING_NUM;
}

U8 compatible_windows_encoding(IsoEncoding iso_encoding)
{
	switch (iso_encoding)
	{
		case WINDOWS_ENCODING_GB2312:	/* old iso encoding have GB2312, value is same with windows-gb2312 */
			return WINDOWS_ENCODING_GB2312;
		case ISO_ENCODING_8859_2:
			return WINDOWS_ENCODING_1250;
		case ISO_ENCODING_8859_5:
			return WINDOWS_ENCODING_1251;
		case ISO_ENCODING_8859_6:
			return WINDOWS_ENCODING_1256;
		case ISO_ENCODING_8859_7:
			return WINDOWS_ENCODING_1253;
		case ISO_ENCODING_8859_9:
			return WINDOWS_ENCODING_1254;
		case ISO_ENCODING_8859_11:
			return WINDOWS_ENCODING_874;
		case ISO_ENCODING_8859_13:
			return WINDOWS_ENCODING_1257;
		case ISO_ENCODING_8859_1:
		case ISO_ENCODING_8859_15:
		default:
			return WINDOWS_ENCODING_1252;
	}
}


Iso8859CodeMap* find_iso_code_map_by_encoding(IsoEncoding encoding)
{
	Iso8859CodeMap *ret = NULL;
	int i;

	for (i = 0; i < ARRAY_NUM(iso_8859_code_map); ++i)
	{
		if (iso_8859_code_map[i].iso_encoding == encoding)
		{
			ret = iso_8859_code_map + i;
			break;
		}
	}
	return ret;
}

static U16 iso_8859_char_to_ucs2_char(U8 iso_char, IsoEncoding encoding)
{
	Iso8859CodeMap *code_map;

	/* not defined in ISO/IEC 8859 standard */
	if ((iso_char >= 0x01 && iso_char <= 0x1f) || (iso_char >= 0x80 && iso_char <= 0x9f))
	{
		return 0;
	}
	if (iso_char < 0x80)
	{
		return iso_char;
	}
	code_map = find_iso_code_map_by_encoding(encoding);
	if (!code_map || !code_map->iso_8859_to_ucs2_func)
	{
		return 0;
	}
	return code_map->iso_8859_to_ucs2_func(iso_char);
}

int iso_to_ucs2(const char *iso_string, int iso_string_length, U16 *ucs2_string, int ucs2_size, IsoEncoding encoding)
{
	U16 ucs2_char;
	int ucs2_index = 0;
	int iso_index = 0;
	int error_code = CONV_ERR_CODE_NONE;

	if (!iso_string || !ucs2_string)
	{
		return CONV_ERR_CODE_BAD_PARAMETER;
	}
	while (iso_string[iso_index] != 0 && (iso_string_length < 0 || iso_index < iso_string_length))
	{
		if (ucs2_size >= 0 && ucs2_index >= ucs2_size - 1)	/* one more space for '\0' */
		{
			error_code = CONV_ERR_CODE_NO_ENOUGH_SPACE;
			break;
		}
		ucs2_char = iso_8859_char_to_ucs2_char(iso_string[iso_index++], encoding);
		if (ucs2_char == 0)	/* invalid character, ignore it */
		{
			continue;
		}
		ucs2_string[ucs2_index++] = ucs2_char;
	}
	ucs2_string[ucs2_index] = '\0';

	return error_code;
}


/*********************************************************************************************************************************
 *                                                     ISO/IEC 6937 -> UCS2                                                      *
 *********************************************************************************************************************************/
static U16 iso6937_combine_char_to_ucs2(U8 first_byte, U8 second_byte)
{
	int pattern_num;
	int i, j;

	pattern_num = ARRAY_NUM(iso_6937_combine_pattern);
	for (i = 0; i < pattern_num; i++)
	{
		if (iso_6937_combine_pattern[i].code == first_byte)
		{
			for (j = 0; j < iso_6937_combine_pattern[i].item_num; j++)
			{
				if (iso_6937_combine_pattern[i].items[j].second_char == second_byte)
				{
					return iso_6937_combine_pattern[i].items[j].result;
				}
			}
			break;
		}
	}
	return 0;
}

static U16 iso6937_buffer_to_ucs2_char(const char *iso6937_string, int index, int string_length, int *parsed_bytes, U32 encoding)
{
	U8 first_byte, second_byte;
	U16 ucs2_code = 0;
	U32 iso_encoding = encoding & 0xFF;

	first_byte = (U8)iso6937_string[index];
	/* not defined in ISO/IEC 6937 standard */
	if ((first_byte >= 0x01 && first_byte <= 0x1f) || (first_byte >= 0x80 && first_byte <= 0x9f))
	{
		*parsed_bytes = 1;
		return 0;
	}
	/* ASCII */
	if (first_byte < 0x80)
	{
		*parsed_bytes = 1;
		return first_byte;
	}
	/* combine character */
	if (first_byte >= 0xC0 && first_byte <= 0xCF)
	{
		if (index + 1 < string_length)
		{
			second_byte = (U8)iso6937_string[index + 1];
			ucs2_code = iso6937_combine_char_to_ucs2(first_byte, second_byte);
		}
		if (ucs2_code != 0)
		{
			*parsed_bytes = 2;
			return ucs2_code;
		}
	}
	/* normal character */
	*parsed_bytes = 1;
	if (iso_encoding == 0)	/* real iso-6937 */
	{
		return normal_iso_char_to_ucs2(first_byte, ucs2_to_iso_6937_map, 96, 0xA0);
	}
	return iso_8859_char_to_ucs2_char(first_byte, iso_encoding);
}

int iso6937_to_ucs2(const char *iso6937_string, int string_length, U16 *ucs2_string, int ucs2_size, U32 encoding)
{
	U16 ucs2_char;
	int ucs2_index = 0;
	int iso_index = 0;
	int parsed_bytes;
	int error_code = CONV_ERR_CODE_NONE;

	if (string_length < 0)
	{
		string_length = strlen((const char *)iso6937_string);
	}
	while (iso_index < string_length)
	{
		ucs2_char = iso6937_buffer_to_ucs2_char(iso6937_string, iso_index, string_length, &parsed_bytes, encoding);
		iso_index += parsed_bytes;
		if (ucs2_char == 0)
		{
			error_code = CONV_ERR_CODE_UNSUPPORTED_CHAR;
			continue;
		}
		if (ucs2_size >= 0 && ucs2_index >= ucs2_size - 1)	/* one more space for '\0' */
		{
			error_code = CONV_ERR_CODE_NO_ENOUGH_SPACE;
			break;
		}
		ucs2_string[ucs2_index++] = ucs2_char;
	}
	ucs2_string[ucs2_index] = '\0';

	return error_code;
}


BOOL is_iso6937_encoding(U32 encoding)
{
	return (encoding & 0xFFFFFF00) == MULTI_LAN_ENCODING_ISO6937;
}

#if 0	/* not used now -- brant @2016-12-12 */
/* only check key point --brant */
BOOL is_valid_iso6937_string(const U8 *iso6937_string, int string_length)
{
	U8 first_byte, second_byte;
	int iso_index = 0;
	int parsed_bytes;

	if (string_length < 0)
	{
		string_length = strlen((const char *)iso6937_string);
	}
	while (iso_index < string_length)
	{
		first_byte = iso6937_string[iso_index];
		parsed_bytes = 1;
		if ((first_byte >= 0xD8 && first_byte <= 0xDB) || first_byte == 0xE5)
		{
			return FALSE;
		}
		if (first_byte >= 0xC0 && first_byte <= 0xCF)
		{
			parsed_bytes = 2;
			/* need second byte, but nothing left */
			if (iso_index + 1 >= string_length)
			{
				return FALSE;
			}
			second_byte = iso6937_string[iso_index + 1];
			if (iso6937_combine_char_to_ucs2(first_byte, second_byte) == 0)
			{
				return FALSE;
			}
		}
		iso_index += parsed_bytes;
	}

	return TRUE;
}
#endif


/*********************************************************************************************************************************
 *                                                        UCS2 -> Windows                                                        *
 *********************************************************************************************************************************/
static U16 ucs2_to_normal_windows_char(U16 ucs2_char, U16 *code_page, int size, int offset)
{
	unsigned char normal_windows_char = 0;
	int i;

	if (ucs2_char)
	{
		for (i = 0; i < size; ++i)
		{
			if (code_page[i] == ucs2_char)
			{
				normal_windows_char = offset + i;
				break;
			}
		}
	}
	return normal_windows_char;
}

#if ENABLE_THAI_LANGUAGE
static U16 ucs2_to_windows_874(U16 ucs2_char)
{
	return ucs2_to_normal_windows_char(ucs2_char, ucs2_to_windows_874_map, ARRAY_NUM(ucs2_to_windows_874_map), 0x80);
}
#endif
static U16 ucs2_to_windows_1250(U16 ucs2_char)
{
	return ucs2_to_normal_windows_char(ucs2_char, ucs2_to_windows_1250_map, ARRAY_NUM(ucs2_to_windows_1250_map), 0x80);
}

static U16 ucs2_to_windows_1251(U16 ucs2_char)
{
	return ucs2_to_normal_windows_char(ucs2_char, ucs2_to_windows_1251_map, ARRAY_NUM(ucs2_to_windows_1251_map), 0x80);
}

static U16 ucs2_to_windows_1252(U16 ucs2_char)
{
	return ucs2_to_normal_windows_char(ucs2_char, ucs2_to_windows_1252_map, ARRAY_NUM(ucs2_to_windows_1252_map), 0x80);
}

static U16 ucs2_to_windows_1253(U16 ucs2_char)
{
	return ucs2_to_normal_windows_char(ucs2_char, ucs2_to_windows_1253_map, ARRAY_NUM(ucs2_to_windows_1253_map), 0x80);
}

static U16 ucs2_to_windows_1254(U16 ucs2_char)
{
	return ucs2_to_normal_windows_char(ucs2_char, ucs2_to_windows_1254_map, ARRAY_NUM(ucs2_to_windows_1254_map), 0x80);
}

#if 0
static U16 ucs2_to_windows_1255(U16 ucs2_char)
{
	return ucs2_to_normal_windows_char(ucs2_char, ucs2_to_windows_1255_map, ARRAY_NUM(ucs2_to_windows_1255_map), 0x80);
}
#endif

static U16 ucs2_to_windows_1256(U16 ucs2_char)
{
	if (ucs2_char == 0x06cc)	/* this is a special character */
	{
		return 0xec;
	}
	return ucs2_to_normal_windows_char(ucs2_char, ucs2_to_windows_1256_map, ARRAY_NUM(ucs2_to_windows_1256_map), 0x80);
}

static U16 ucs2_to_windows_1257(U16 ucs2_char)
{
	return ucs2_to_normal_windows_char(ucs2_char, ucs2_to_windows_1257_map, ARRAY_NUM(ucs2_to_windows_1257_map), 0x80);
}


/*********************************************************************************************************************************
 *                                                        Windows -> UCS2                                                        *
 *********************************************************************************************************************************/
static U16 normal_windows_char_to_ucs2(U16 windows_char, U16 *code_page, int size, int offset)
{
	if (windows_char >= offset && windows_char < offset + size)
	{
		return code_page[windows_char - offset];
	}
	return 0;
}
#if ENABLE_THAI_LANGUAGE
static U16 windows_874_to_ucs2(U16 windows_char)
{
	return normal_windows_char_to_ucs2(windows_char, ucs2_to_windows_874_map, ARRAY_NUM(ucs2_to_windows_874_map), 0x80);
}
#endif
static U16 windows_1250_to_ucs2(U16 windows_char)
{
	return normal_windows_char_to_ucs2(windows_char, ucs2_to_windows_1250_map, ARRAY_NUM(ucs2_to_windows_1250_map), 0x80);
}

static U16 windows_1251_to_ucs2(U16 windows_char)
{
	return normal_windows_char_to_ucs2(windows_char, ucs2_to_windows_1251_map, ARRAY_NUM(ucs2_to_windows_1251_map), 0x80);
}

static U16 windows_1252_to_ucs2(U16 windows_char)
{
	return normal_windows_char_to_ucs2(windows_char, ucs2_to_windows_1252_map, ARRAY_NUM(ucs2_to_windows_1252_map), 0x80);
}

static U16 windows_1253_to_ucs2(U16 windows_char)
{
	return normal_windows_char_to_ucs2(windows_char, ucs2_to_windows_1253_map, ARRAY_NUM(ucs2_to_windows_1253_map), 0x80);
}

static U16 windows_1254_to_ucs2(U16 windows_char)
{
	return normal_windows_char_to_ucs2(windows_char, ucs2_to_windows_1254_map, ARRAY_NUM(ucs2_to_windows_1254_map), 0x80);
}

#if 0
static U16 windows_1255_to_ucs2(U16 windows_char)
{
	return normal_windows_char_to_ucs2(windows_char, ucs2_to_windows_1255_map, ARRAY_NUM(ucs2_to_windows_1255_map), 0x80);
}
#endif

static U16 windows_1256_to_ucs2(U16 windows_char)
{
	return normal_windows_char_to_ucs2(windows_char, ucs2_to_windows_1256_map, ARRAY_NUM(ucs2_to_windows_1256_map), 0x80);
}

static U16 windows_1257_to_ucs2(U16 windows_char)
{
	return normal_windows_char_to_ucs2(windows_char, ucs2_to_windows_1257_map, ARRAY_NUM(ucs2_to_windows_1257_map), 0x80);
}


/*********************************************************************************************************************************
 *                                                       Windows <-> UCS2                                                        *
 *********************************************************************************************************************************/
typedef struct _windows_code_map_
{
	WindowsEncoding encoding;
	U16 (*ucs2_to_windows_func)(U16 ucs2_char);
	U16 (*windows_to_ucs2_func)(U16 windows_char);
} WindowsCodeMap;

static WindowsCodeMap windows_code_map[] =
{
#if ENABLE_CHINESE_LANGUAGE
	{WINDOWS_ENCODING_GB2312,	unicode_to_gb2312,		gb2312_to_unicode},
#endif
#if ENABLE_THAI_LANGUAGE
	{WINDOWS_ENCODING_874,		ucs2_to_windows_874,	windows_874_to_ucs2},
#endif
	{WINDOWS_ENCODING_1250,		ucs2_to_windows_1250,	windows_1250_to_ucs2},
	{WINDOWS_ENCODING_1251,		ucs2_to_windows_1251,	windows_1251_to_ucs2},
	{WINDOWS_ENCODING_1252,		ucs2_to_windows_1252,	windows_1252_to_ucs2},
	{WINDOWS_ENCODING_1253,		ucs2_to_windows_1253,	windows_1253_to_ucs2},
	{WINDOWS_ENCODING_1254,		ucs2_to_windows_1254,	windows_1254_to_ucs2},
#if 0
	{WINDOWS_ENCODING_1255,		ucs2_to_windows_1255,	windows_1255_to_ucs2},
#endif
	{WINDOWS_ENCODING_1256,		ucs2_to_windows_1256,	windows_1256_to_ucs2},
	{WINDOWS_ENCODING_1257,		ucs2_to_windows_1257,	windows_1257_to_ucs2},
};


BOOL is_windows_encoding(U32 encoding)
{
	return encoding >= WINDOWS_ENCODING_START && encoding < WINDOWS_ENCODING_NUM;
}


static BOOL is_ascii_char(U16 ucs2_char)
{
	return ucs2_char <= 0x7E;
}

static BOOL is_wide_char_encoding(WindowsEncoding encoding)
{
	if (encoding == WINDOWS_ENCODING_GB2312)
	{
		return TRUE;
	}
	return FALSE;
}


static WindowsCodeMap* find_code_map_by_encoding(WindowsEncoding encoding)
{
	WindowsCodeMap *ret = NULL;
	int i;

	for (i = 0; i < ARRAY_NUM(windows_code_map); ++i)
	{
		if (windows_code_map[i].encoding == encoding)
		{
			ret = windows_code_map + i;
			break;
		}
	}
	return ret;
}


static U16 ucs2_char_to_windows_char_with_encoding(U16 ucs2_char, WindowsEncoding encoding)
{
	U16 windows_char = 0;
	WindowsCodeMap *code_map;

	if (is_ascii_char(ucs2_char))
	{
		return ucs2_char;
	}
	code_map = find_code_map_by_encoding(encoding);
	if (code_map && code_map->ucs2_to_windows_func)
	{
		windows_char = code_map->ucs2_to_windows_func(ucs2_char);
	}

	return windows_char;
}

static U16 ucs2_char_to_windows_char(U16 ucs2_char, WindowsEncoding *preferred_encoding, BOOL find_in_other_code_page)
{
	U16 windows_char = 0;
	WindowsEncoding using_encoding = WINDOWS_ENCODING_1252;
	WindowsEncoding trying_encoding;

	if (preferred_encoding)
	{
		using_encoding = *preferred_encoding;
		windows_char = ucs2_char_to_windows_char_with_encoding(ucs2_char, using_encoding);
	}
	if (windows_char || !find_in_other_code_page)	/* find it */
	{
		return windows_char;
	}
	/* scan other code map */
	for (trying_encoding = WINDOWS_ENCODING_START; trying_encoding < WINDOWS_ENCODING_NUM; ++trying_encoding)
	{
		if (trying_encoding == using_encoding)	/* already tried */
		{
			continue;
		}
		windows_char = ucs2_char_to_windows_char_with_encoding(ucs2_char, trying_encoding);
		if (windows_char)
		{
			if (preferred_encoding)
			{
				*preferred_encoding = trying_encoding;
			}
			break;
		}
	}

	return windows_char;
}


static int windows_char_to_buffer(WindowsEncoding prev_encoding, WindowsEncoding cur_encoding, U16 windows_char, char *buffer)
{
	int length = 0;

	if (prev_encoding != cur_encoding)
	{
		buffer[length++] = cur_encoding;
	}
	if (windows_char <= 0xff)
	{
		buffer[length++] = windows_char;
	}
	else	/* wide char */
	{
		buffer[length++] = (char)(windows_char >> 8);
		buffer[length++] = (char)(windows_char & 0x00ff);
	}

	return length;
}

static BOOL can_convert_ucs2_to_windows_with_1_encoding(const U16 *ucs2_string, int ucs2_length, WindowsEncoding encoding)
{
	int ucs2_index;
	U16 ucs2_char;

	ucs2_index = 0;
	while (ucs2_string[ucs2_index] != 0 && (ucs2_length < 0 || ucs2_index < ucs2_length))
	{
		ucs2_char = ucs2_string[ucs2_index];
		if (ucs2_char_to_windows_char(ucs2_char, &encoding, FALSE) == 0)
		{
			return FALSE;
		}
		ucs2_index++;
	}

	return TRUE;
}

static WindowsEncoding get_windows_encoding_for_cur_ucs2_string(const U16 *ucs2_string, int ucs2_length)
{
	WindowsEncoding encoding;
	WindowsEncoding trying_encoding;

	encoding = 0;//get_language_encoding(0);
	trying_encoding = encoding;

	if (can_convert_ucs2_to_windows_with_1_encoding(ucs2_string, ucs2_length, trying_encoding))
	{
		return trying_encoding;
	}
	/* scan other code map */
	for (trying_encoding = WINDOWS_ENCODING_START; trying_encoding < WINDOWS_ENCODING_NUM; ++trying_encoding)
	{
		if (trying_encoding == encoding)	/* already tried */
		{
			continue;
		}
		if (can_convert_ucs2_to_windows_with_1_encoding(ucs2_string, ucs2_length, trying_encoding))
		{
			return trying_encoding;
		}
	}
	return encoding;
}

int ucs2_to_windows(const U16 *ucs2_string, int ucs2_length, char *win_string, int win_string_size)
{
	U16 ucs2_char;
	U16 windows_char;
	WindowsEncoding prev_encoding, cur_encoding;
	char windows_char_buf[4];
	int windows_char_length;
	int ucs2_index = 0;
	int windows_index = 0;
	int error_code = CONV_ERR_CODE_NONE;

	if (!ucs2_string || !win_string)
	{
		return CONV_ERR_CODE_BAD_PARAMETER;
	}
	prev_encoding = WINDOWS_ENCODING_NUM;
	cur_encoding = get_windows_encoding_for_cur_ucs2_string(ucs2_string, ucs2_length);
	while (ucs2_string[ucs2_index] != 0 && (ucs2_length < 0 || ucs2_index < ucs2_length))
	{
		ucs2_char = ucs2_string[ucs2_index];
		windows_char = ucs2_char_to_windows_char(ucs2_char, &cur_encoding, TRUE);
		if (!windows_char)	/* not find */
		{
			windows_char = WINDOWS_UNSUPPORT_CHAR;
			error_code = CONV_ERR_CODE_UNSUPPORTED_CHAR;
		}
		windows_char_length = windows_char_to_buffer(prev_encoding, cur_encoding, windows_char, windows_char_buf);
		prev_encoding = cur_encoding;
		if (win_string_size >= 0 && windows_index + windows_char_length > win_string_size - 1)	/* one more space for '\0' */
		{
			error_code = CONV_ERR_CODE_NO_ENOUGH_SPACE;
			break;
		}
		memcpy(win_string + windows_index, windows_char_buf, windows_char_length);
		windows_index += windows_char_length;
		ucs2_index++;
	}
	win_string[windows_index] = '\0';

	return error_code;
}


static U16 next_windows_char(const char *win_string, int win_string_length, int cur_index, BOOL wide_char)
{
	U16 windows_char = 0;

	windows_char = (U8)win_string[cur_index];
	if (wide_char && (windows_char & 0x80))
	{
		/* it is a wide char, but only 1 byte left */
		if ((win_string_length >= 0 && cur_index + 1 >= win_string_length) || win_string[cur_index + 1] == 0)
		{
			windows_char = 0;
		}
		else
		{
			windows_char = (windows_char << 8) | (win_string[cur_index + 1]);
		}
	}
	return windows_char;
}

U16 windows_char_to_ucs2_char(U16 windows_char, WindowsEncoding encoding)
{
	U16 ucs2_char = 0;
	WindowsCodeMap *code_map;

	if (is_ascii_char(windows_char))
	{
		return windows_char;
	}
	code_map = find_code_map_by_encoding(encoding);
	if (code_map && code_map->windows_to_ucs2_func)
	{
		ucs2_char = code_map->windows_to_ucs2_func(windows_char);
	}

	return ucs2_char;
}

BOOL is_windows_string(const char *string)
{
	/* the old string content use windows encoding, but with iso encoding byte */
	return (string != NULL && (is_windows_encoding(string[0]) || is_iso_encoding(string[0])));
}


int windows_to_ucs2(const char *win_string, int win_string_length, U16 *ucs2_string, int ucs2_size, WindowsEncoding default_encoding)
{
	U16 ucs2_char;
	U16 windows_char;
	WindowsEncoding using_encoding;
	int ucs2_index = 0;
	int windows_index = 0;
	int error_code = CONV_ERR_CODE_NONE;

	if (!win_string || !ucs2_string)
	{
		return CONV_ERR_CODE_BAD_PARAMETER;
	}
	using_encoding = default_encoding;
	while (win_string[windows_index] != 0 && (win_string_length < 0 || windows_index < win_string_length))
	{
		if (is_windows_encoding(win_string[windows_index]))
		{
			using_encoding = win_string[windows_index];
			windows_index++;
			continue;
		}
		else if (windows_index == 0 && is_iso_encoding(win_string[windows_index])) /* old encoding style, just for compatible */
		{
			using_encoding = compatible_windows_encoding(win_string[windows_index]);
			windows_index++;
			continue;
		}
		windows_char = next_windows_char(win_string, win_string_length, windows_index, is_wide_char_encoding(using_encoding));
		if (!windows_char)
		{
			error_code = CONV_ERR_CODE_UNSUPPORTED_CHAR;
			break;
		}
		windows_index += (windows_char <= 0xff ? 1 : 2);
		ucs2_char = windows_char_to_ucs2_char(windows_char, using_encoding);
		if (ucs2_char == 0)	/* invalid character, ignore it */
		{
			continue;
		}
		if (ucs2_size >= 0 && ucs2_index >= ucs2_size - 1)	/* one more space for '\0' */
		{
			error_code = CONV_ERR_CODE_NO_ENOUGH_SPACE;
			break;
		}
		ucs2_string[ucs2_index++] = ucs2_char;
	}
	ucs2_string[ucs2_index] = '\0';

	return error_code;
}


/*********************************************************************************************************************************
 *                                                        UTF8 <-> UCS2                                                          *
 *********************************************************************************************************************************/
int ucs2_char_to_utf8_buf(U16 ucs2_char, char *utf8_buf)
{
	int length = 0;

	if (ucs2_char < 0x0080)
	{
		if (utf8_buf != NULL)
		{
			utf8_buf[0] = (U8)ucs2_char;
		}
		length = 1;
	}
	else if (ucs2_char < 0x0800)
	{
		if (utf8_buf != NULL)
		{
			utf8_buf[0] = ((U8)(ucs2_char >> 6)) | 0xC0;
			utf8_buf[1] = ((U8)(ucs2_char & 0x003F)) | 0x80;
		}
		length = 2;
	}
	else
	{
		if (utf8_buf != NULL)
		{
			utf8_buf[0] = ((U8)(ucs2_char >> 12)) | 0xE0;
			utf8_buf[1] = ((U8)((ucs2_char & 0x0FC0) >> 6)) | 0x80;
			utf8_buf[2] = ((U8)(ucs2_char & 0x003F)) | 0x80;
		}
		length = 3;
	}
	return length;
}

int ucs2_to_utf8_bytes_num(const U16 *ucs2_string, int ucs2_length)
{
	int bytes_num = 0;
	int ucs2_index = 0;

	if (!ucs2_string)
	{
		return 0;
	}
	while (ucs2_string[ucs2_index] != 0 && (ucs2_length < 0 || ucs2_index < ucs2_length))
	{
		bytes_num += ucs2_char_to_utf8_buf(ucs2_string[ucs2_index++], NULL);
	}
	return bytes_num;
}

int convert_to_utf8_bytes_num(const char *data, int data_length, int encoding)
{
	U16 *ucs2_string;
	int ucs2_size;
	int bytes_num;

	ucs2_size = data_length + 1;
	ucs2_string = (U16 *)gui_malloc(sizeof(U16) * ucs2_size);
	if (ucs2_string == NULL)
	{
		return 0;
	}
	convert_to_ucs2(data, data_length, ucs2_string, ucs2_size, encoding);
	bytes_num = ucs2_to_utf8_bytes_num(ucs2_string, -1);
	gui_free(ucs2_string);

	return bytes_num;
}

/*
--------------------------------------------------------------------------------------
|      UCS2/Unicode     |                             UTF-8                          |
--------------------------------------------------------------------------------------
|                       |      code      | 1st byte | 2nd byte | 3rd byte | 4th byte |
--------------------------------------------------------------------------------------
|   000000000AAAAAAA    |  0000 - 007F   | 0AAAAAAA |          |          |          |
--------------------------------------------------------------------------------------
|   00000BBBBBAAAAAA    |  0080 - 07FF   | 110BBBBB | 10AAAAAA |          |          |
--------------------------------------------------------------------------------------
|   CCCCBBBBBBAAAAAA    |  0800 - FFFF   | 1110CCCC | 10BBBBBB | 10AAAAAA |          |
--------------------------------------------------------------------------------------
| stb can recognise this utf-8 sequence but not support unicode value in this range  |
--------------------------------------------------------------------------------------
| DDDCCCCCCBBBBBBAAAAAA | 10000 - 1FFFFF | 11110DDD | 10CCCCCC | 10BBBBBB | 10AAAAAA |
--------------------------------------------------------------------------------------
*/
int ucs2_to_utf8(const U16 *ucs2_string, int ucs2_length, char *utf8_string, int utf8_size)
{
	U16 ucs2_char;
	int ucs2_index = 0;
	int utf8_index = 0;
	char utf8_buf[4];
	int utf8_buf_len;
	int error_code = CONV_ERR_CODE_NONE;

	if (!ucs2_string || !utf8_string)
	{
		return CONV_ERR_CODE_BAD_PARAMETER;
	}

	while (ucs2_string[ucs2_index] != 0 && (ucs2_length < 0 || ucs2_index < ucs2_length))
	{
		ucs2_char = ucs2_string[ucs2_index];
		utf8_buf_len = ucs2_char_to_utf8_buf(ucs2_char, utf8_buf);
		if (utf8_buf_len == 0)	/* invalid character */
		{
			utf8_buf[0] = UTF8_UNSUPPORT_CHAR;
			utf8_buf_len = 1;
		}
		if ((utf8_size >= 0) && (utf8_index + utf8_buf_len > utf8_size - 1))	/* one more space for '\0' */
		{
			error_code = CONV_ERR_CODE_NO_ENOUGH_SPACE;
			break;
		}
		strncpy(utf8_string + utf8_index, utf8_buf, utf8_buf_len);
		utf8_index += utf8_buf_len;
		ucs2_index++;
	}
	utf8_string[utf8_index] = '\0';

	return error_code;
}


static int utf8_char_bytes_num(U8 first_char)
{
	if (!(first_char & 0x80))
	{
		return 1;
	}
	if (0xc0 == (first_char & 0xe0))
	{
		return 2;
	}
	if (0xe0 == (first_char & 0xf0))
	{
		return 3;
	}
	if (0xf0 == (first_char & 0xf8))
	{
		return 4;
	}
	return -1;
}

int utf8_to_ucs2(const char *utf8_string, int utf8_length, U16 *ucs2_string, int ucs2_size)
{
	int utf8_index, ucs2_index;
	U8 char1, char2, char3, char4;
	U16 temp1, temp2;
	U16 cur_ucs2_char;
	int bytes_need;
	int error_code = CONV_ERR_CODE_NONE;

	if (!utf8_string || !ucs2_string)
	{
		return CONV_ERR_CODE_BAD_PARAMETER;
	}
	if (utf8_length < 0)
	{
		utf8_length = strlen(utf8_string);
	}
	if (utf8_length <= 0)
	{
		ucs2_string[0] = 0;
		return CONV_ERR_CODE_NONE;
	}

	ucs2_index = 0;
	for (utf8_index = 0; utf8_index < utf8_length; utf8_index++)
	{
		cur_ucs2_char = UCS2_UNSUPPORT_CHAR;

		char1 = (U8)utf8_string[utf8_index];
		bytes_need = utf8_char_bytes_num(char1);
		/* not a utf8 char sequence at the end of string, maybe no enough space to save this string */
		if (bytes_need > 0 && utf8_index + bytes_need - 1 >= utf8_length)
		{
			break;
		}
		char2 = char3 = char4 = 0;
		if (utf8_index + 1 < utf8_length)
		{
			char2 = (U8)utf8_string[utf8_index + 1];
		}
		if (utf8_index + 2 < utf8_length)
		{
			char3 = (U8)utf8_string[utf8_index + 2];
		}
		if (utf8_index + 2 < utf8_length)
		{
			char4 = (U8)utf8_string[utf8_index + 3];
		}

		if (!(char1 & 0x80))	/* 1 byte utf-8 character */
		{
			cur_ucs2_char = char1;
		}
		else if (0xc0 == (char1 & 0xe0) && 0x80 == (char2 & 0xc0))	/* 2 bytes utf-8 character */
		{
			temp1 = (U16)(char1 & 0x1f);
			temp1 <<= 6;
			temp1 |= (U16)(char2 & 0x3f);
			cur_ucs2_char = temp1;
			utf8_index++;
		}
		else if (0xe0 == (char1 & 0xf0) && 0x80 == (char2 & 0xc0) && 0x80 == (char3 & 0xc0))	/* 3 bytes utf-8 character */
		{
			temp1 = (U16)(char1 & 0x0f);
			temp1 <<= 12;
			temp2 = (U16)(char2 & 0x3F);
			temp2 <<= 6;
			temp1 = temp1 | temp2 | (U16)(char3 & 0x3F);
			cur_ucs2_char = temp1;
			utf8_index += 2;
		}
		else if (0xf0 == (char1 & 0xf8) && 0x80 == (char2 & 0xc0) && 0x80 == (char3 & 0xc0) && 0x80 == (char4 & 0xc0))	/* 4 bytes utf-8 character, not support */
		{
			cur_ucs2_char = UCS2_UNSUPPORT_CHAR;
			utf8_index += 3;
		}
		if (ucs2_size < 0 || ucs2_index < ucs2_size - 1)
		{
			ucs2_string[ucs2_index++] = cur_ucs2_char;
			if (cur_ucs2_char == UCS2_UNSUPPORT_CHAR)
			{
				error_code = CONV_ERR_CODE_UNSUPPORTED_CHAR;
			}
		}
		else
		{
			error_code = CONV_ERR_CODE_NO_ENOUGH_SPACE;
			break;
		}
	}
	ucs2_string[ucs2_index] = '\0';

	return error_code;
}


/*********************************************************************************************************************************
 *                                                            Others                                                             *
 *********************************************************************************************************************************/
static inline U16 ucs2_be_char_to_ucs2_char(U16 ucs2_be_code)
{
	U8 byte1, byte2;

	byte1 = (U8)((ucs2_be_code & 0xff00) >> 8);
	byte2 = (U8)(ucs2_be_code & 0x00ff);

	return ((byte2 << 8) | byte1);
}

int ucs2_be_to_ucs2(U16 *ucs2_be_string, int ucs2_be_length, U16 *ucs2_string, int ucs2_size)
{
	U16 ucs2_char;
	int ucs2_be_index = 0;
	int ucs2_index = 0;
	int error_code = CONV_ERR_CODE_NONE;

	if (!ucs2_be_string || !ucs2_string)
	{
		return CONV_ERR_CODE_BAD_PARAMETER;
	}
	while (ucs2_be_string[ucs2_be_index] != 0 && (ucs2_be_length < 0 || ucs2_be_index < ucs2_be_length))
	{
		ucs2_char = ucs2_be_char_to_ucs2_char(ucs2_be_string[ucs2_be_index++]);
		if (ucs2_size >= 0 && ucs2_index >= ucs2_size - 1)
		{
			error_code = CONV_ERR_CODE_NO_ENOUGH_SPACE;
			break;
		}
		ucs2_string[ucs2_index++] = ucs2_char;
	}
	ucs2_string[ucs2_index] = '\0';

	return error_code;
}

int ucs2_be_to_utf8(const U16 *ucs2_be_string, int ucs2_be_length, char *utf8_string, int utf8_size)
{
	U16 ucs2_char;
	int ucs2_be_index = 0;
	int utf8_index = 0;
	char utf8_buf[4];
	int utf8_buf_len;
	int error_code = CONV_ERR_CODE_NONE;

	if (!ucs2_be_string || !utf8_string)
	{
		return CONV_ERR_CODE_BAD_PARAMETER;
	}
	while (ucs2_be_string[ucs2_be_index] != 0 && (ucs2_be_length < 0 || ucs2_be_index < ucs2_be_length))
	{
		ucs2_char = ucs2_be_char_to_ucs2_char(ucs2_be_string[ucs2_be_index++]);
		utf8_buf_len = ucs2_char_to_utf8_buf(ucs2_char, utf8_buf);
		if (utf8_buf_len == 0)	/* invalid character */
		{
			utf8_buf[0] = UTF8_UNSUPPORT_CHAR;
			utf8_buf_len = 1;
		}
		if ((utf8_size >= 0) && (utf8_index + utf8_buf_len >= utf8_size - 1))	/* one more space for '\0' */
		{
			error_code = CONV_ERR_CODE_NO_ENOUGH_SPACE;
			break;
		}
		strncpy(utf8_string + utf8_index, utf8_buf, utf8_buf_len);
		utf8_index += utf8_buf_len;
	}
	utf8_string[utf8_index] = '\0';

	return error_code;
}


int iso_to_utf8(const char *iso_string, int iso_string_length, char *utf8_string, int utf8_size, IsoEncoding encoding)
{
	int ucs2_size;
	U16 *ucs2_string;
	int error_code;

	if (iso_string == NULL || utf8_string == NULL)
	{
		return CONV_ERR_CODE_BAD_PARAMETER;
	}
	if (iso_string_length < 0)
	{
		iso_string_length = strlen(iso_string);
	}
	ucs2_size = iso_string_length + 1;
	ucs2_string = (U16 *)gui_malloc(ucs2_size * sizeof(U16));
	if (ucs2_string == NULL)
	{
		return CONV_ERR_CODE_OTHERS;
	}
	iso_to_ucs2(iso_string, iso_string_length, ucs2_string, ucs2_size, encoding);
	error_code = ucs2_to_utf8(ucs2_string, -1, utf8_string, utf8_size);
	gui_free(ucs2_string);

	return error_code;
}


int iso6937_to_utf8(const char *iso6937_string, int string_length, char *utf8_string, int utf8_size, U32 encoding)
{
	int ucs2_size;
	U16 *ucs2_string;
	int error_code;

	if (iso6937_string == NULL || utf8_string == NULL)
	{
		return CONV_ERR_CODE_BAD_PARAMETER;
	}
	if (string_length < 0)
	{
		string_length = strlen(iso6937_string);
	}
	ucs2_size = string_length + 1;
	ucs2_string = (U16 *)gui_malloc(ucs2_size * sizeof(U16));
	if (ucs2_string == NULL)
	{
		return CONV_ERR_CODE_OTHERS;
	}
	iso6937_to_ucs2(iso6937_string, string_length, ucs2_string, ucs2_size, encoding);
	error_code = ucs2_to_utf8(ucs2_string, -1, utf8_string, utf8_size);
	gui_free(ucs2_string);

	return error_code;
}


int windows_to_utf8(const char *win_string, int win_string_length, char *utf8_string, int utf8_size, WindowsEncoding default_encoding)
{
	int ucs2_size;
	U16 *ucs2_string;
	int error_code;

	if (win_string == NULL || utf8_string == NULL)
	{
		return CONV_ERR_CODE_BAD_PARAMETER;
	}
	if (win_string_length < 0)
	{
		win_string_length = strlen(win_string);
	}
	ucs2_size = win_string_length + 1;
	ucs2_string = (U16 *)gui_malloc(ucs2_size * sizeof(U16));
	if (ucs2_string == NULL)
	{
		return CONV_ERR_CODE_OTHERS;
	}
	windows_to_ucs2(win_string, win_string_length, ucs2_string, ucs2_size, default_encoding);
	error_code = ucs2_to_utf8(ucs2_string, -1, utf8_string, utf8_size);
	gui_free(ucs2_string);

	return error_code;
}

int utf8_to_windows(const char *utf8_string, int utf8_length, char *win_string, int win_string_size)
{
	int ucs2_size;
	U16 *ucs2_string;
	int error_code;

	if (utf8_string == NULL || win_string == NULL)
	{
		return CONV_ERR_CODE_BAD_PARAMETER;
	}
	if (utf8_length < 0)
	{
		utf8_length = strlen(utf8_string);
	}
	ucs2_size = utf8_length + 1;
	ucs2_string = (U16 *)gui_malloc(ucs2_size * sizeof(U16));
	if (ucs2_string == NULL)
	{
		return CONV_ERR_CODE_OTHERS;
	}
	utf8_to_ucs2(utf8_string, utf8_length, ucs2_string, ucs2_size);
	error_code = ucs2_to_windows(ucs2_string, -1, win_string, win_string_size);
	gui_free(ucs2_string);

	return error_code;
}


int utf8_copy(const char *src, int src_length, char *dst, int dst_size)
{
	int copy_length;

	copy_length = src_length >= 0 ? src_length : strlen(src);
	if (dst_size > 0)
	{
		copy_length = MIN(copy_length, dst_size - 1);
	}
	if (src != dst)
	{
		strncpy(dst, src, copy_length);
	}
	dst[copy_length] = '\0';

	return CONV_ERR_CODE_NONE;
}

int convert_to_utf8(const char *data, int data_length, char *utf8_string, int utf8_size, int encoding)
{
	int error_code = CONV_ERR_CODE_INVALID_ENCODING;

	if (is_iso_encoding(encoding))
	{
		error_code = iso_to_utf8(data, data_length, utf8_string, utf8_size, encoding);
	}
	else if (is_windows_encoding(encoding))
	{
		error_code = windows_to_utf8(data, data_length, utf8_string, utf8_size, encoding);
	}
	else if (encoding == MULTI_LAN_ENCODING_UNICODE || encoding == MULTI_LAN_ENCODING_UNICODE_BE)
	{
		int ucs2_length;

		/* fix system crash issue. if use "data" as U16*, the value of "data" must be a even number */
		if ((U32)data % 2 != 0)
		{
			data++;
			if (data_length > 0)
			{
				data_length--;
			}
		}
		ucs2_length = (data_length > 0 ? (data_length / 2) : (-1));
		if (encoding == MULTI_LAN_ENCODING_UNICODE)
		{
			error_code = ucs2_to_utf8((U16 *)data, ucs2_length, utf8_string, utf8_size);
		}
		else
		{
			error_code = ucs2_be_to_utf8((U16 *)data, ucs2_length, utf8_string, utf8_size);
		}
	}
	else if (encoding == MULTI_LAN_ENCODING_UTF8)
	{
		error_code = utf8_copy(data, data_length, utf8_string, utf8_size);
	}
	else if (is_iso6937_encoding(encoding))
	{
		error_code = iso6937_to_utf8(data, data_length, utf8_string, utf8_size, encoding);
	}
	else
	{
		utf8_string[0] = '\0';
	}

	return error_code;
}

int convert_to_ucs2(const char *data, int data_length, U16 *ucs2_string, int ucs2_size, int encoding)
{
	int error_code = CONV_ERR_CODE_INVALID_ENCODING;

	if (is_iso_encoding(encoding))
	{
		error_code = iso_to_ucs2(data, data_length, ucs2_string, ucs2_size, encoding);
	}
	else if (is_windows_encoding(encoding))
	{
		error_code = windows_to_ucs2(data, data_length, ucs2_string, ucs2_size, encoding);
	}
	else if (encoding == MULTI_LAN_ENCODING_UNICODE || encoding == MULTI_LAN_ENCODING_UNICODE_BE)
	{
		int ucs2_length;

		/* fix system crash issue. if use "data" as U16*, the value of "data" must be a even number */
		if ((U32)data % 2 != 0)
		{
			data++;
			if (data_length > 0)
			{
				data_length--;
			}
		}
		if (encoding == MULTI_LAN_ENCODING_UNICODE)
		{
			ucs2_length = (data_length > 0 ? (data_length / 2) : wcslen((U16 *)data));
			if (ucs2_size >= 0)
			{
				ucs2_length = MIN(ucs2_length, ucs2_size - 1);
			}
			wcsncpy(ucs2_string, (U16 *)data, ucs2_length);
			ucs2_string[ucs2_length] = '\0';
			error_code = 0;
		}
		else
		{
			ucs2_length = (data_length > 0 ? (data_length / 2) : -1);
			error_code = ucs2_be_to_ucs2((U16 *)data, ucs2_length, ucs2_string, ucs2_size);
		}
	}
	else if (encoding == MULTI_LAN_ENCODING_UTF8)
	{
		error_code = utf8_to_ucs2(data, data_length, ucs2_string, ucs2_size);
	}
	else if (is_iso6937_encoding(encoding))
	{
		error_code = iso6937_to_ucs2(data, data_length, ucs2_string, ucs2_size, encoding);
	}
	else
	{
		ucs2_string[0] = '\0';
	}

	return error_code;
}


static inline U16 get_ucs2_lower_char(U16 ucs2_char)
{
	/* Basic Latin (ASCII) */
	if (ucs2_char >= 0x0041 && ucs2_char <= 0x005A)
	{
		return ucs2_char + 0x20;
	}
	/* Latin-1 Supplement */
	if ((ucs2_char >= 0x00C0 && ucs2_char <= 0x00D6) || (ucs2_char >= 0x00D8 && ucs2_char <= 0x00DE))
	{
		return ucs2_char + 0x20;
	}
	/* Latin Extended-A */
	if (((ucs2_char >= 0x0100 && ucs2_char <= 0x0137) && ucs2_char % 2 == 0)
		|| ((ucs2_char >= 0x0139 && ucs2_char <= 0x0148) && ucs2_char % 2 == 1)
		|| ((ucs2_char >= 0x014A && ucs2_char <= 0x017E) && ucs2_char % 2 == 0))
	{
		return ucs2_char + 1;
	}
	/* Cyrillic */
	if (ucs2_char >= 0x0400 && ucs2_char <= 0x040F)
	{
		return ucs2_char + 0x50;
	}
	if (ucs2_char >= 0x0410 && ucs2_char <= 0x042F)
	{
		return ucs2_char + 0x20;
	}
	if (((ucs2_char >= 0x0460 && ucs2_char <= 0x0481) && ucs2_char % 2 == 0)
		|| ((ucs2_char >= 0x048A && ucs2_char <= 0x04BF) && ucs2_char % 2 == 0)
		|| ((ucs2_char >= 0x04C1 && ucs2_char <= 0x04CE) && ucs2_char % 2 == 1)
		|| ((ucs2_char >= 0x04D0 && ucs2_char <= 0x04FF) && ucs2_char % 2 == 0))
	{
		return ucs2_char + 1;
	}
	if (ucs2_char == 0x04C0)
	{
		return 0x04CF;
	}
	/* Greek and Coptic */
	if (ucs2_char >= 0x0391 && ucs2_char <= 0x03AB)
	{
		return ucs2_char + 0x20;
	}
	return ucs2_char;
}

int ucs2_to_lower(U16 *ucs2_string, int ucs2_length)
{
	int ucs2_index = 0;

	while (ucs2_string[ucs2_index] != 0 && (ucs2_length < 0 || ucs2_index < ucs2_length))
	{
		ucs2_string[ucs2_index] = get_ucs2_lower_char(ucs2_string[ucs2_index]);
		ucs2_index++;
	}

	return 0;
}


static inline U16 get_ucs2_upper_char(U16 ucs2_char)
{
	/* Basic Latin (ASCII) */
	if (ucs2_char >= 0x0061 && ucs2_char <= 0x007A)
	{
		return ucs2_char - 0x20;
	}
	/* Latin-1 Supplement */
	if ((ucs2_char >= 0x00E0 && ucs2_char <= 0x00F6) || (ucs2_char >= 0x00F8 && ucs2_char <= 0x00FE))
	{
		return ucs2_char - 0x20;
	}
	/* Latin Extended-A */
	if (((ucs2_char >= 0x0100 && ucs2_char <= 0x0137) && ucs2_char % 2 == 1)
		|| ((ucs2_char >= 0x0139 && ucs2_char <= 0x0148) && ucs2_char % 2 == 0)
		|| ((ucs2_char >= 0x014A && ucs2_char <= 0x017E) && ucs2_char % 2 == 1))
	{
		return ucs2_char - 1;
	}
	/* Cyrillic */
	if (ucs2_char >= 0x0450 && ucs2_char <= 0x045F)
	{
		return ucs2_char - 0x50;
	}
	if (ucs2_char >= 0x0430 && ucs2_char <= 0x044F)
	{
		return ucs2_char - 0x20;
	}
	if (((ucs2_char >= 0x0460 && ucs2_char <= 0x0481) && ucs2_char % 2 == 1)
		|| ((ucs2_char >= 0x048A && ucs2_char <= 0x04BF) && ucs2_char % 2 == 1)
		|| ((ucs2_char >= 0x04C1 && ucs2_char <= 0x04CE) && ucs2_char % 2 == 0)
		|| ((ucs2_char >= 0x04D0 && ucs2_char <= 0x04FF) && ucs2_char % 2 == 1))
	{
		return ucs2_char - 1;
	}
	if (ucs2_char == 0x04CF)
	{
		return 0x04C0;
	}
	/* Greek and Coptic */
	if (ucs2_char >= 0x03B1 && ucs2_char <= 0x03CB)
	{
		return ucs2_char - 0x20;
	}
	return ucs2_char;
}

int ucs2_to_upper(U16 *ucs2_string, int ucs2_length)
{
	int ucs2_index = 0;

	while (ucs2_string[ucs2_index] != 0 && (ucs2_length < 0 || ucs2_index < ucs2_length))
	{
		ucs2_string[ucs2_index] = get_ucs2_upper_char(ucs2_string[ucs2_index]);
		ucs2_index++;
	}

	return 0;
}


/*
 * In German language, Latin character can be instead of ASCII character when device can't show Latin character.
 * Now, this function only used for show German text on VFD.
 * Rules:
 * ü=ue, ä=ae, ö=oe, ß=ss  Ü=UE, Ä=AE, Ö=OE, ẞ=SS
 */
int german_latin_char_to_ascii(U16 *ger_string, int size)
{
	int index, i;
	BOOL need_change;
	U16 ascii_char[2];
	int error_code = CONV_ERR_CODE_NONE;

	index = 0;
	while (ger_string[index] != 0 && index < size)
	{
		need_change = FALSE;
		switch(ger_string[index])
		{
			case 0x00FC:	/* ü */
				ascii_char[0] = 'u';
				ascii_char[1] = 'e';
				need_change = TRUE;
				break;
			case 0x00E4:	/* ä */
				ascii_char[0] = 'a';
				ascii_char[1] = 'e';
				need_change = TRUE;
				break;
			case 0x00F6:	/* ö */
				ascii_char[0] = 'o';
				ascii_char[1] = 'e';
				need_change = TRUE;
				break;
			case 0x00DF:	/* ß */
				ascii_char[0] = 's';
				ascii_char[1] = 's';
				need_change = TRUE;
				break;
			case 0x00DC:	/* Ü */
				ascii_char[0] = 'U';
				ascii_char[1] = 'E';
				need_change = TRUE;
				break;
			case 0x00C4:	/* Ä */
				ascii_char[0] = 'A';
				ascii_char[1] = 'E';
				need_change = TRUE;
				break;
			case 0x00D6:	/* Ö */
				ascii_char[0] = 'O';
				ascii_char[1] = 'E';
				need_change = TRUE;
				break;
			case 0x1E9E:	/* ẞ */
				ascii_char[0] = 'S';
				ascii_char[1] = 'S';
				need_change = TRUE;
				break;
			default:
				break;
		}
		if (need_change)
		{
			if (index >= size - 2)
			{
				error_code = CONV_ERR_CODE_NO_ENOUGH_SPACE;
				break;
			}
			for (i = size - 1; i > index + 1; i--)
			{
				ger_string[i] = ger_string[i - 1];
			}
			ger_string[index] = ascii_char[0];
			ger_string[index + 1] = ascii_char[1];
			index++;
		}
		index++;
	}
	ger_string[index] = '\0';

	return error_code;
}


char *get_encoding_name(U32 encoding)
{
	switch (encoding)
	{
		case ISO_ENCODING_8859_1:
			return "Western European (ISO)";
		case ISO_ENCODING_8859_2:
			return "Central European (ISO)";
		case ISO_ENCODING_8859_3:
			return "ISO-8859-3";
		case ISO_ENCODING_8859_4:
			return "ISO-8859-4";
		case ISO_ENCODING_8859_5:
			return "Cyrillic (ISO)";
		case ISO_ENCODING_8859_6:
			return "Arabic (ISO)";
		case ISO_ENCODING_8859_7:
			return "Greek (ISO)";
		case ISO_ENCODING_8859_8:
			return "Hebrew (ISO)";
		case ISO_ENCODING_8859_9:
			return "Turkish (ISO)";
		case ISO_ENCODING_8859_10:
			return "ISO-8859-10";
		case ISO_ENCODING_8859_11:
			return "Thai (ISO)";
		case ISO_ENCODING_8859_12:
			return "ISO-8859-12";
		case ISO_ENCODING_8859_13:
			return "Baltic (Windows)";
		case ISO_ENCODING_8859_14:
			return "ISO-8859-14";
		case ISO_ENCODING_8859_15:
			return "ISO-8859-15";
		case WINDOWS_ENCODING_GB2312:
			return "Chinese Simplified (GB2312)";
		case WINDOWS_ENCODING_874:
			return "Thai (Windows)";
		case WINDOWS_ENCODING_1250:
			return "Central European (Windows)";
		case WINDOWS_ENCODING_1251:
			return "Cyrillic (Windows)";
		case WINDOWS_ENCODING_1252:
			return "Western European (Windows)";
		case WINDOWS_ENCODING_1253:
			return "Greek (Windows)";
		case WINDOWS_ENCODING_1254:
			return "Turkish (Windows)";
		case WINDOWS_ENCODING_1255:
			return "Hebrew (Windows)";
		case WINDOWS_ENCODING_1256:
			return "Arabic (Windows)";
		case WINDOWS_ENCODING_1257:
			return "Baltic (Windows)";
		case WINDOWS_ENCODING_1258:
			return "Vietnamese (Windows)";
		case WINDOWS_ENCODING_JIS:
			return "Japanese (JIS)";
		case WINDOWS_ENCODING_BIG5:
			return "Chinese Traditional (Big5)";
		case WINDOWS_ENCODING_KSC5601:
			return "Korean";
		case MULTI_LAN_ENCODING_UNICODE:
			return "Unicode";
		case MULTI_LAN_ENCODING_UNICODE_BE:
			return "Unicode (Big Endian)";
		case MULTI_LAN_ENCODING_UTF8:
			return "UTF-8";
		default:
			break;
	}
	return "Unnamed Encoding";
}
